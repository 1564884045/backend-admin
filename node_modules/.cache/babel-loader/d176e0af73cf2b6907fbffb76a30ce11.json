{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\RQDL\\base\\backend-admin\\src\\utils\\encrypt.js","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\utils\\encrypt.js","mtime":1620715077838},{"path":"G:\\RQDL\\base\\backend-admin\\babel.config.js","mtime":1620715077731},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkc6L1JRREwvYmFzZS9iYWNrZW5kLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgSlNFbmNyeXB0IGZyb20gJ2pzZW5jcnlwdCc7Ci8qKg0KICoNCiAqIEBkZXNjcmlwdGlvbiBSU0HliqDlr4YNCiAqIEBwYXJhbSBkYXRhDQogKiBAcGFyYW0gcHVibGljS2V5IOWFrOmSpQ0KICogQHJldHVybnMge1Byb21pc2U8e3BhcmFtOiBQcm9taXNlTGlrZTxBcnJheUJ1ZmZlcj59fCo+fQ0KICovCgpleHBvcnQgZnVuY3Rpb24gZW5jcnlwdGVkRGF0YShfeCwgX3gyKSB7CiAgcmV0dXJuIF9lbmNyeXB0ZWREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KLyoqDQogKg0KICogQGRlc2NyaXB0aW9uIFJTQeino+Wvhg0KICogQHBhcmFtIGRhdGENCiAqIEBwYXJhbSBwcml2YXRlS2V5IOengemSpeino+Wvhg0KICogQHJldHVybnMge1Byb21pc2VMaWtlPEFycmF5QnVmZmVyPn0NCiAqLwoKZnVuY3Rpb24gX2VuY3J5cHRlZERhdGEoKSB7CiAgX2VuY3J5cHRlZERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSwgcHVibGljS2V5KSB7CiAgICB2YXIgZW5jcnlwdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEocHVibGljS2V5ID09PSAnJykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBlbmNyeXB0ID0gbmV3IEpTRW5jcnlwdCgpOwogICAgICAgICAgICBlbmNyeXB0LnNldFB1YmxpY0tleShwdWJsaWNLZXkpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBlbmNyeXB0LmVuY3J5cHQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfZW5jcnlwdGVkRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGVjcnlwdGVkRGF0YShkYXRhLCBwcml2YXRlS2V5KSB7CiAgdmFyIGRlY3J5cHQgPSBuZXcgSlNFbmNyeXB0KCk7CiAgZGVjcnlwdC5zZXRQcml2YXRlS2V5KCItLS0tLUJFR0lOIFJTQSBQUklWQVRFIEtFWS0tLS0tIi5jb25jYXQocHJpdmF0ZUtleSwgIi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tIikpOwogIGRhdGEgPSBkZWNyeXB0LmRlY3J5cHQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogIHJldHVybiBkYXRhOwp9"},{"version":3,"sources":["G:/RQDL/base/backend-admin/src/utils/encrypt.js"],"names":["JSEncrypt","encryptedData","data","publicKey","encrypt","setPublicKey","JSON","stringify","decryptedData","privateKey","decrypt","setPrivateKey"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,WAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,gBAAsBC,aAAtB;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;;;2EAfO,iBAA6BC,IAA7B,EAAkCC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACDA,SAAS,KAAK,EADb;AAAA;AAAA;AAAA;;AAAA,6CAEID,IAFJ;;AAAA;AAICE,YAAAA,OAJD,GAIW,IAAIJ,SAAJ,EAJX;AAKLI,YAAAA,OAAO,CAACC,YAAR,CAAqBF,SAArB;AALK,6CAMEC,OAAO,CAACA,OAAR,CAAgBE,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAhB,CANF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAgBP,OAAO,SAASM,aAAT,CAAuBN,IAAvB,EAA4BO,UAA5B,EAAwC;AAC7C,MAAMC,OAAO,GAAG,IAAIV,SAAJ,EAAhB;AACAU,EAAAA,OAAO,CAACC,aAAR,0CACoCF,UADpC;AAGAP,EAAAA,IAAI,GAAGQ,OAAO,CAACA,OAAR,CAAgBJ,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAhB,CAAP;AACA,SAAOA,IAAP;AACD","sourcesContent":["import JSEncrypt from 'jsencrypt'\r\n\r\n/**\r\n *\r\n * @description RSA加密\r\n * @param data\r\n * @param publicKey 公钥\r\n * @returns {Promise<{param: PromiseLike<ArrayBuffer>}|*>}\r\n */\r\nexport async function encryptedData(data,publicKey) {\r\n  if (publicKey === '') {\r\n    return data\r\n  }\r\n  const encrypt = new JSEncrypt();\r\n  encrypt.setPublicKey(publicKey);\r\n  return encrypt.encrypt(JSON.stringify(data));\r\n}\r\n\r\n/**\r\n *\r\n * @description RSA解密\r\n * @param data\r\n * @param privateKey 私钥解密\r\n * @returns {PromiseLike<ArrayBuffer>}\r\n */\r\nexport function decryptedData(data,privateKey) {\r\n  const decrypt = new JSEncrypt();\r\n  decrypt.setPrivateKey(\r\n    `-----BEGIN RSA PRIVATE KEY-----${privateKey}-----END RSA PRIVATE KEY-----`\r\n  );\r\n  data = decrypt.decrypt(JSON.stringify(data))\r\n  return data\r\n}\r\n"]}]}