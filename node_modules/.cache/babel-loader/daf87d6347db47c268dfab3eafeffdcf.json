{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\RQDL\\base\\backend-admin\\src\\views\\user\\components\\scrollLoader.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\views\\user\\components\\scrollLoader.vue","mtime":1620715077891},{"path":"G:\\RQDL\\base\\backend-admin\\babel.config.js","mtime":1620715077731},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzY3JvbGwtbG9hZGVyIiwKICBwcm9wczogewogICAgLy/nu5lzbG905Lyg5LiA5Liq5pyA5bCP5YC877yM5L+d6K+B5LiA5byA5aeL6IO95Ye6546w5rua5Yqo5p2hCiAgICAnbWluSGVpZ2h0JzogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDgwMAogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIGNvbXB1dGVkOiB7CiAgICByZWFsTWluSGVpZ2h0OiBmdW5jdGlvbiByZWFsTWluSGVpZ2h0KCkgewogICAgICByZXR1cm4gdGhpcy5taW5IZWlnaHQgKyAzMDsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3BMb2FkaW5nOiBmYWxzZSwKICAgICAgYm90dG9uTG9hZGluZzogZmFsc2UsCiAgICAgIHN0b3BUb3BMb2FkaW5nOiBmYWxzZSwKICAgICAgLy/mmK/lkKblgZzmraLkvKDmkq3mu5rliqjliLDpobbpg6jkuovku7YKICAgICAgc3RvcEJvdHRvbkxvYWRpbmc6IGZhbHNlIC8v5piv5ZCm5YGc5q2i5Lyg5pKt5rua5Yqo5Yiw5bqV6YOo5LqL5Lu2CgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxpc3RlblNjcm9sbCgpOwogIH0sCiAgbWV0aG9kczogewogICAgbGlzdGVuU2Nyb2xsOiBmdW5jdGlvbiBsaXN0ZW5TY3JvbGwoKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CgogICAgICB2YXIgdG9wRG9uZSA9IGZ1bmN0aW9uIHRvcERvbmUoc3RvcFRvcExvYWRpbmcpIHsKICAgICAgICBtZS50b3BMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHN0b3BUb3BMb2FkaW5nKSBtZS5zdG9wVG9wTG9hZGluZyA9IHRydWU7CiAgICAgIH07CgogICAgICB2YXIgYm90dG9uRG9uZSA9IGZ1bmN0aW9uIGJvdHRvbkRvbmUoc3RvcEJvdHRvbkxvYWRpbmcpIHsKICAgICAgICBtZS5ib3R0b25Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHN0b3BCb3R0b25Mb2FkaW5nKSBtZS5zdG9wQm90dG9uTG9hZGluZyA9IHRydWU7CiAgICAgIH07CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2Nyb2xsQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njcm9sbExvYWRlci1jb250YWluZXInKTsKCiAgICAgICAgc2Nyb2xsQ29udGFpbmVyLm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgPD0gMCAmJiAhbWUuc3RvcFRvcExvYWRpbmcpIHsKICAgICAgICAgICAgaWYgKG1lLnRvcExvYWRpbmcpIHJldHVybjsKICAgICAgICAgICAgbWUudG9wTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIG1lLiRlbWl0KCdzY3JvbGwtdG8tdG9wJywgdG9wRG9uZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lci5vZmZzZXRIZWlnaHQgKyBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wICsgMSA+PSBzY3JvbGxDb250YWluZXIuc2Nyb2xsSGVpZ2h0ICYmICFtZS5zdG9wQm90dG9uTG9hZGluZykgewogICAgICAgICAgICBpZiAobWUuYm90dG9uTG9hZGluZykgcmV0dXJuOwogICAgICAgICAgICBtZS5ib3R0b25Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCArPSA0MDsKICAgICAgICAgICAgbWUuJGVtaXQoJ3Njcm9sbC10by1ib3R0b24nLCBib3R0b25Eb25lKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9LCA1MCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["scrollLoader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAGA,EAAA,KAAA,EAAA;AACA;AACA,iBAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAFA,GAHA;AAYA,EAAA,OAZA,qBAYA,CACA,CAbA;AAcA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,SAAA,GAAA,EAAA;AACA;AAHA,GAdA;AAmBA,EAAA,IAnBA,kBAmBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,aAAA,EAAA,KAFA;AAIA,MAAA,cAAA,EAAA,KAJA;AAIA;AACA,MAAA,iBAAA,EAAA,KALA,CAKA;;AALA,KAAA;AAOA,GA3BA;AA4BA,EAAA,OA5BA,qBA4BA;AACA,SAAA,YAAA;AACA,GA9BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,EAAA,GAAA,IAAA;;AACA,UAAA,OAAA,GAAA,SAAA,OAAA,CAAA,cAAA,EAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,KAAA;AACA,YAAA,cAAA,EAAA,EAAA,CAAA,cAAA,GAAA,IAAA;AACA,OAHA;;AAKA,UAAA,UAAA,GAAA,SAAA,UAAA,CAAA,iBAAA,EAAA;AACA,QAAA,EAAA,CAAA,aAAA,GAAA,KAAA;AACA,YAAA,iBAAA,EAAA,EAAA,CAAA,iBAAA,GAAA,IAAA;AACA,OAHA;;AAIA,MAAA,UAAA,CAAA,YAAA;AACA,YAAA,eAAA,GAAA,QAAA,CAAA,cAAA,CAAA,wBAAA,CAAA;;AAEA,QAAA,eAAA,CAAA,QAAA,GAAA,YAAA;AAEA,cAAA,eAAA,CAAA,SAAA,IAAA,CAAA,IAAA,CAAA,EAAA,CAAA,cAAA,EAAA;AACA,gBAAA,EAAA,CAAA,UAAA,EAAA;AAEA,YAAA,EAAA,CAAA,UAAA,GAAA,IAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,eAAA,EAAA,OAAA;AACA;;AACA,cAAA,eAAA,CAAA,YAAA,GAAA,eAAA,CAAA,SAAA,GAAA,CAAA,IAAA,eAAA,CAAA,YAAA,IAAA,CAAA,EAAA,CAAA,iBAAA,EAAA;AACA,gBAAA,EAAA,CAAA,aAAA,EAAA;AAEA,YAAA,EAAA,CAAA,aAAA,GAAA,IAAA;AACA,YAAA,eAAA,CAAA,SAAA,IAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,UAAA;AACA;AACA,SAfA;AAgBA,OAnBA,EAmBA,EAnBA,CAAA;AAoBA;AAhCA;AAhCA,CAAA","sourcesContent":["// scrollLoader.vue\r\n// 滚动加载组件\r\n\r\n<style scoped>\r\n   .container-main {margin: 0 auto; overflow: auto; overflow-x: hidden; padding: 0;}\r\n   .loading{ width: 100%; height: 40px; position: relative; overflow: hidden; text-align: center; margin: 5px 0 ; color: #999; font-size: 13px;}\r\n   .loading-icon{color: #707070;}\r\n   .loader {\r\n        font-size: 10px;\r\n        margin: 8px auto;\r\n        text-indent: -9999em;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        background: #999;\r\n        background: -moz-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -webkit-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -o-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -ms-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: linear-gradient(to right, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        position: relative;\r\n        -webkit-animation: load3 1s infinite linear;\r\n        animation: load3 1s infinite linear;\r\n    }\r\n    .loader:before {\r\n        width: 50%;\r\n        height: 50%;\r\n        background: #999;\r\n        border-radius: 100% 0 0 0;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        content: '';\r\n    }\r\n    .loader:after {\r\n        background: #f5f5f5;\r\n        width: 72%;\r\n        height: 75%;\r\n        border-radius: 68%;\r\n        content: '';\r\n        margin: auto;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        bottom: 0;\r\n        right: 0;\r\n    }\r\n    @-webkit-keyframes load3 {\r\n    0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n    }\r\n    }\r\n    @keyframes load3 {\r\n    0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n    }\r\n    }\r\n\r\n</style>\r\n\r\n<template>\r\n    <div id=\"scrollLoader-container\" class=\"container-main\">\r\n        <div class=\"loading\" v-if=\"topLoading\">\r\n            <div class=\"loader\">加载中...</div>\r\n        </div>\r\n\r\n        <div :style=\"'min-height:' + realMinHeight + 'px; overflow-x:hidden'\">\r\n            <slot></slot>\r\n        </div>\r\n\r\n        <div class=\"loading\" v-if=\"bottonLoading\">\r\n            <div class=\"loader\">加载中...</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"scroll-loader\",\r\n\r\n        props: {\r\n            //给slot传一个最小值，保证一开始能出现滚动条\r\n            'minHeight': {\r\n                type: Number,\r\n                default: 800\r\n            },\r\n\r\n        },\r\n\r\n        created(){\r\n        },\r\n        computed: {\r\n            realMinHeight(){\r\n                return this.minHeight + 30\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n               topLoading: false,\r\n               bottonLoading: false,\r\n\r\n               stopTopLoading: false, //是否停止传播滚动到顶部事件\r\n               stopBottonLoading: false,  //是否停止传播滚动到底部事件\r\n            }\r\n        },\r\n        mounted(){\r\n            this.listenScroll();\r\n        },\r\n\r\n        methods: {\r\n            listenScroll(){\r\n                var me = this;\r\n                var topDone = (stopTopLoading) => {\r\n                    me.topLoading = false;\r\n                    if(stopTopLoading) me.stopTopLoading = true;\r\n                };\r\n\r\n                var bottonDone = (stopBottonLoading) => {\r\n                    me.bottonLoading = false;\r\n                    if(stopBottonLoading) me.stopBottonLoading = true;\r\n                };\r\n                setTimeout(function(){\r\n                    var scrollContainer = document.getElementById('scrollLoader-container');\r\n\r\n                    scrollContainer.onscroll = function(){\r\n\r\n                        if(scrollContainer.scrollTop<=0 && !me.stopTopLoading){\r\n                            if(me.topLoading) return;\r\n\r\n                            me.topLoading = true;\r\n                            me.$emit('scroll-to-top', topDone);\r\n                        }\r\n                        if((scrollContainer.offsetHeight + scrollContainer.scrollTop+1 >= scrollContainer.scrollHeight) && !me.stopBottonLoading){\r\n                            if(me.bottonLoading) return;\r\n\r\n                            me.bottonLoading = true;\r\n                            scrollContainer.scrollTop += 40;\r\n                            me.$emit('scroll-to-botton', bottonDone);\r\n                        }\r\n                    }\r\n                }, 50)\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n"],"sourceRoot":"src/views/user/components"}]}