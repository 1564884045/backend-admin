{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\RQDL\\base\\backend-admin\\src\\components\\RemoteSelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\components\\RemoteSelect\\index.vue","mtime":1620715077795},{"path":"G:\\RQDL\\base\\backend-admin\\babel.config.js","mtime":1620715077731},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkc6L1JRREwvYmFzZS9iYWNrZW5kLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZW1vdGVTZWxlY3QiLAogIHByb3BzOiB7CiAgICB2YWx1ZTogT2JqZWN0LAoKICAgIC8qKg0KICAgICAqIOmAieS4reWAvOaXtue7keWumuWIsHZhbHVl5Lit55qE5bGe5oCn5ZCNDQogICAgICovCiAgICBmaWVsZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJpZCIKICAgIH0sCiAgICBzZWxmVGVtcGxhdGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgLyoqDQogICAgICog5YC85Y+Y5YyW5pe2dmFsdWXkuK3nmoTlsZ7mgKflgLzlkI3mlbDnu4QNCiAgICAgKi8KICAgIGJpbmRGaWVsZHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDlsZXnpLrnmoTojrflj5bliLDnmoTliJfooajph4znmoTlgLwNCiAgICAgKi8KICAgIHNob3dMYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJuYW1lIgogICAgfSwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIuivt+mAieaLqSIKICAgIH0sCgogICAgLyoqDQogICAgICog6L+c56iL5Zyw5Z2ADQogICAgICovCiAgICBhcGk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIiwKICAgICAgcmVxdWlyZTogdHJ1ZQogICAgfSwKCiAgICAvKioNCiAgICAgKiDpu5jorqTlgLwNCiAgICAgKi8KICAgIGRlZmF1bHRWYWx1ZTogewogICAgICB0eXBlOiBudWxsLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKCiAgICAvKioNCiAgICAgKiDliJ3lp4vljJbnu4Tku7bml7bmmK/lkKblsLHnm7TmjqXoh6rliqjliqDovb0NCiAgICAgKi8KICAgIGF1dG9Mb2FkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdjogJycsCiAgICAgIGxpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBkZWZhdWx0VmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2codmFsKTsKCiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLnYgPSB2YWw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52ID0gIiI7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5hdXRvTG9hZCkgdGhpcy5yZW1vdGVNZXRob2QoIiIpOwogIH0sCiAgbWV0aG9kczogewogICAgYXRDbGljazogZnVuY3Rpb24gYXRDbGljaygpIHsKICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGggPT09IDApIHRoaXMucmVtb3RlTWV0aG9kKCIiKTsKICAgIH0sCiAgICByZW1vdGVNZXRob2Q6IGZ1bmN0aW9uIHJlbW90ZU1ldGhvZChlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgX3RoaXMuJGFwaS5nZXQoX3RoaXMuYXBpLCB7CiAgICAgICAgICAgICAgICAgIHNlYXJjaEtleTogZSwKICAgICAgICAgICAgICAgICAgcGFnZTogMSwKICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IDMwCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9LCA0MDApOwogICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgX3RoaXMubGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGUpIHsKICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlIiwgZSk7CiAgICAgIHRoaXMudmFsdWVbdGhpcy5maWVsZF0gPSB0aGlzLnY7CiAgICAgIHRoaXMuY2hhbmdlT2JqKCk7CiAgICB9LAogICAgY2hhbmdlT2JqOiBmdW5jdGlvbiBjaGFuZ2VPYmooKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG9iaiA9IG51bGw7CiAgICAgIHRoaXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKF90aGlzMi52ID09PSBpdGVtLmlkKSB7CiAgICAgICAgICBvYmogPSBpdGVtOyAvLyBjb25zb2xlLmxvZyhvYmopOwoKICAgICAgICAgIF90aGlzMi5iaW5kRmllbGRzLm1hcChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICBpZiAoaXRlbVtpXSkgewogICAgICAgICAgICAgIF90aGlzMi52YWx1ZVtpXSA9IGl0ZW1baV07CiAgICAgICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy52YWx1ZSkKCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2VPYmoiLCBvYmopOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-select @change=\"change\"\r\n             @focus=\"atClick\"\r\n             filterable\r\n             remote\r\n             auto-complete=\"new-password\"\r\n             reserve-keyword\r\n             :remote-method=\"remoteMethod\"\r\n             :loading=\"loading\" v-model=\"v\" :placeholder=\"placeholder\">\r\n    <el-option\r\n        v-for=\"(item,index) in list\"\r\n        :key=\"index\"\r\n        :label=\"item[showLabel]\"\r\n        :value=\"item.id\">\r\n      <span v-if=\"!selfTemplate\">{{ item[showLabel] }}</span>\r\n      <span v-else> <slot :item=\"item\"/></span>\r\n    </el-option>\r\n  </el-select>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"remoteSelect\",\r\n  props: {\r\n    value: Object,\r\n    /**\r\n     * 选中值时绑定到value中的属性名\r\n     */\r\n    field: {\r\n      type: String,\r\n      default: \"id\",\r\n    },\r\n    selfTemplate: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 值变化时value中的属性值名数组\r\n     */\r\n    bindFields: {\r\n      type: Array,\r\n      default: function () {\r\n        return []\r\n      }\r\n    },\r\n    /**\r\n     * 展示的获取到的列表里的值\r\n     */\r\n    showLabel: {\r\n      type: String,\r\n      default: \"name\",\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: \"请选择\",\r\n    },\r\n    /**\r\n     * 远程地址\r\n     */\r\n    api: {\r\n      type: String,\r\n      default: \"\",\r\n      require: true\r\n    },\r\n    /**\r\n     * 默认值\r\n     */\r\n    defaultValue: {\r\n      type: null,\r\n      default: \"\",\r\n    },\r\n    /**\r\n     * 初始化组件时是否就直接自动加载\r\n     */\r\n    autoLoad: {\r\n      type: Boolean,\r\n      default: false,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      v: '',\r\n      list: [],\r\n      loading: false\r\n    }\r\n  },\r\n  watch: {\r\n    defaultValue: function (val) {\r\n      console.log(val);\r\n      if (val) {\r\n        this.v = val\r\n      } else {\r\n        this.v = \"\"\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.autoLoad) this.remoteMethod(\"\");\r\n  },\r\n  methods: {\r\n    atClick() {\r\n      if (this.list.length === 0) this.remoteMethod(\"\");\r\n    },\r\n    async remoteMethod(e) {\r\n      // console.log(e);\r\n      this.loading = true;\r\n      this.$api.get(this.api, {\r\n        searchKey: e,\r\n        page: 1,\r\n        pageSize: 30\r\n      }).then((res) => {\r\n        setTimeout(() => {\r\n          this.loading = false;\r\n        }, 400);\r\n\r\n        if (res.code === 200) this.list = res.data.list;\r\n      })\r\n    },\r\n    change(e) {\r\n      this.$emit(\"change\", e);\r\n      this.value[this.field] = this.v;\r\n      this.changeObj();\r\n    },\r\n    changeObj() {\r\n      let obj = null;\r\n      this.list.forEach(item => {\r\n        if (this.v === item.id){\r\n            obj = item;\r\n            // console.log(obj);\r\n          this.bindFields.map(i => {\r\n            if (item[i]){ this.value[i] = item[i];}\r\n            // console.log(this.value)\r\n          })\r\n        }\r\n      });\r\n      this.$emit(\"changeObj\", obj);\r\n    }\r\n  }\r\n}\r\n</script>Z\r\n"],"sourceRoot":"src/components/RemoteSelect"}]}