{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\RQDL\\base\\backend-admin\\src\\layout\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\layout\\index.vue","mtime":1620715077806},{"path":"G:\\RQDL\\base\\backend-admin\\babel.config.js","mtime":1620715077731},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfdmFyaWFibGVzIGZyb20gJ0AvYXNzZXRzL3N0eWxlcy9yZXNvdXJjZXMvdmFyaWFibGVzLnNjc3MnOwppbXBvcnQgTG9nbyBmcm9tICcuL2NvbXBvbmVudHMvTG9nbyc7CmltcG9ydCBVc2VyTWVudSBmcm9tICcuL2NvbXBvbmVudHMvVXNlck1lbnUnOwppbXBvcnQgU2lkZWJhckl0ZW0gZnJvbSAnLi9jb21wb25lbnRzL1NpZGViYXJJdGVtJzsKaW1wb3J0IFRvcGJhciBmcm9tICcuL2NvbXBvbmVudHMvVG9wYmFyJzsKaW1wb3J0IFNlYXJjaCBmcm9tICcuL2NvbXBvbmVudHMvU2VhcmNoJzsKaW1wb3J0IFRoZW1lU2V0dGluZyBmcm9tICcuL2NvbXBvbmVudHMvVGhlbWVTZXR0aW5nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMYXlvdXQnLAogIGNvbXBvbmVudHM6IHsKICAgIExvZ286IExvZ28sCiAgICBTZWFyY2g6IFNlYXJjaCwKICAgIFNpZGViYXJJdGVtOiBTaWRlYmFySXRlbSwKICAgIFRvcGJhcjogVG9wYmFyLAogICAgVGhlbWVTZXR0aW5nOiBUaGVtZVNldHRpbmcsCiAgICBVc2VyTWVudTogVXNlck1lbnUKICB9LAogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICByZWxvYWQ6IHRoaXMucmVsb2FkCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzUm91dGVyQWxpdmU6IHRydWUsCiAgICAgIHJvdXRlUGF0aDogJycsCiAgICAgIHNpZGViYXJTY3JvbGxUb3A6IDAsCiAgICAgIHNjcm9sbFRvcDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgcmV0dXJuIF92YXJpYWJsZXM7CiAgICB9LAogICAgcmVhbFNpZGViYXJXaWR0aDogZnVuY3Rpb24gcmVhbFNpZGViYXJXaWR0aCgpIHsKICAgICAgdmFyIHJlYWxTaWRlYmFyV2lkdGggPSAwOwoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLm1vZGUgPT0gJ3BjJykgewogICAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3Muc2hvd0hlYWRlciAmJiAodGhpcy4kc3RvcmUuc3RhdGUubWVudS5yb3V0ZXMubGVuZ3RoID4gMSB8fCB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5hbHdheXNTaG93TWFpblNpZGViYXIpKSB7CiAgICAgICAgICByZWFsU2lkZWJhcldpZHRoID0gcGFyc2VJbnQoX3ZhcmlhYmxlcy5nX21haW5fc2lkZWJhcl93aWR0aCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3Muc2lkZWJhckNvbGxhcHNlKSB7CiAgICAgICAgICByZWFsU2lkZWJhcldpZHRoICs9IDY0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZWFsU2lkZWJhcldpZHRoICs9IHBhcnNlSW50KF92YXJpYWJsZXMuZ19zdWJfc2lkZWJhcl93aWR0aCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJlYWxTaWRlYmFyV2lkdGggPSBwYXJzZUludChfdmFyaWFibGVzLmdfbWFpbl9zaWRlYmFyX3dpZHRoKSArIHBhcnNlSW50KF92YXJpYWJsZXMuZ19zdWJfc2lkZWJhcl93aWR0aCk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIi5jb25jYXQocmVhbFNpZGViYXJXaWR0aCwgInB4Iik7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiAncm91dGVDaGFuZ2UnLAogICAgJyRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5zaWRlYmFyQ29sbGFwc2UnOiBmdW5jdGlvbiAkc3RvcmVTdGF0ZVNldHRpbmdzU2lkZWJhckNvbGxhcHNlKHZhbCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MubW9kZSA9PSAnbW9iaWxlJykgewogICAgICAgIGlmICghdmFsKSB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGhvdGtleXMoJ2FsdCtmJywgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5lbmFibGVOYXZTZWFyY2gpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgIF90aGlzLiRldmVudEJ1cy4kZW1pdCgnZ2xvYmFsLXNlYXJjaC10b2dnbGUnKTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLiRob3RrZXlzKCdmNScsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChfdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MuZW5hYmxlUGFnZVJlbG9hZCkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgX3RoaXMucmVsb2FkKDIpOwogICAgICB9CiAgICB9KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CgogICAgICBpZiAodHlwZSA9PSAxKSB7CiAgICAgICAgdGhpcy5pc1JvdXRlckFsaXZlID0gZmFsc2U7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5pc1JvdXRlckFsaXZlID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAncmVsb2FkJwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcm91dGVDaGFuZ2U6IGZ1bmN0aW9uIHJvdXRlQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwubmFtZSA9PSBvbGRWYWwubmFtZSkgewogICAgICAgIHRoaXMucmVsb2FkKCk7CiAgICAgIH0KICAgIH0sCiAgICBvblNpZGViYXJTY3JvbGw6IGZ1bmN0aW9uIG9uU2lkZWJhclNjcm9sbChlKSB7CiAgICAgIHRoaXMuc2lkZWJhclNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDsKICAgIH0sCiAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwoKSB7CiAgICAgIHRoaXMuc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"layout\">\r\n        <div id=\"app-main\" :style=\"{\r\n            '--real-sidebar-width': realSidebarWidth\r\n        }\"\r\n        >\r\n            <header v-if=\"$store.state.settings.mode === 'pc' && $store.state.settings.showHeader\">\r\n                <div class=\"header-container\">\r\n                    <div class=\"main\">\r\n                        <Logo />\r\n                        <!-- 当头部导航大于 1 个的时候才会显示 -->\r\n                        <div v-if=\"$store.state.menu.routes.length > 1\" class=\"nav\">\r\n                            <template v-for=\"(item, index) in $store.state.menu.routes\">\r\n                                <div v-if=\"item.children && item.children.length !== 0\" :key=\"index\" :class=\"{\r\n                                    'item': true,\r\n                                    'active': index === $store.state.menu.headerActived\r\n                                }\" @click=\"$store.commit('menu/switchHeaderActived', index)\"\r\n                                >\r\n                                    <svg-icon v-if=\"item.meta.icon\" :name=\"item.meta.icon\" />\r\n                                    <span v-if=\"item.meta.title\">{{ item.meta.title }}</span>\r\n                                </div>\r\n                            </template>\r\n                        </div>\r\n                    </div>\r\n                    <UserMenu />\r\n                </div>\r\n            </header>\r\n            <div class=\"wrapper\">\r\n                <div :class=\"{\r\n                    'sidebar-container': true,\r\n                    'show': $store.state.settings.mode === 'mobile' && !$store.state.settings.sidebarCollapse\r\n                }\"\r\n                >\r\n                    <div v-if=\"(!$store.state.settings.showHeader || $store.state.settings.mode === 'mobile') && ($store.state.menu.routes.length > 1 || $store.state.settings.alwaysShowMainSidebar)\" class=\"main-sidebar-container\">\r\n                        <Logo :show-title=\"false\" class=\"sidebar-logo\" />\r\n                        <div class=\"nav\">\r\n                            <template v-for=\"(item, index) in $store.state.menu.routes\">\r\n                                <div v-if=\"item.children && item.children.length !== 0\" :key=\"index\" :class=\"{\r\n                                    'item': true,\r\n                                    'active': index === $store.state.menu.headerActived\r\n                                }\" :title=\"item.meta.title\" @click=\"$store.commit('menu/switchHeaderActived', index)\"\r\n                                >\r\n                                    <svg-icon v-if=\"item.meta.icon\" :name=\"item.meta.icon\" />\r\n                                    <span>{{ item.meta.title }}</span>\r\n                                </div>\r\n                            </template>\r\n                        </div>\r\n                    </div>\r\n                    <div :class=\"{\r\n                        'sub-sidebar-container': true,\r\n                        'is-collapse': $store.state.settings.mode == 'pc' && $store.state.settings.sidebarCollapse\r\n                    }\" @scroll=\"onSidebarScroll\"\r\n                    >\r\n                        <Logo :show-logo=\"$store.state.menu.routes.length <= 1 && !$store.state.settings.alwaysShowMainSidebar\" :class=\"{\r\n                            'sidebar-logo': true,\r\n                            'sidebar-logo-bg': $store.state.menu.routes.length <= 1 && !$store.state.settings.alwaysShowMainSidebar,\r\n                            'shadow': sidebarScrollTop\r\n                        }\"\r\n                        />\r\n                        <el-menu :background-color=\"variables.g_sub_sidebar_bg\" :text-color=\"variables.g_sub_sidebar_menu_color\" :active-text-color=\"variables.g_sub_sidebar_menu_active_color\" unique-opened :default-active=\"$route.meta.activeMenu || $route.path\" :collapse=\"$store.state.settings.mode == 'pc' && $store.state.settings.sidebarCollapse\" :collapse-transition=\"false\" :class=\"{\r\n                            'is-collapse-without-logo': $store.state.menu.routes.length > 1 && $store.state.settings.mode == 'pc' && $store.state.settings.sidebarCollapse\r\n                        }\"\r\n                        >\r\n                            <transition-group name=\"sidebar\">\r\n                                <template v-for=\"route in $store.getters['menu/sidebarRoutes']\">\r\n                                    <SidebarItem v-if=\"route.meta.sidebar !== false\" :key=\"route.path\" :item=\"route\" :base-path=\"route.path\" />\r\n                                </template>\r\n                            </transition-group>\r\n                        </el-menu>\r\n                    </div>\r\n                </div>\r\n                <div :class=\"{\r\n                    'sidebar-mask': true,\r\n                    'show': $store.state.settings.mode == 'mobile' && !$store.state.settings.sidebarCollapse\r\n                }\" @click=\"$store.commit('settings/toggleSidebarCollapse')\"\r\n                />\r\n                <div class=\"main-container\">\r\n                    <Topbar :class=\"{'shadow': scrollTop}\" />\r\n                    <div class=\"main\">\r\n                        <transition name=\"main\" mode=\"out-in\">\r\n                            <keep-alive v-if=\"isRouterAlive\" :include=\"$store.state.keepAlive.list\">\r\n                                <RouterView :key=\"$route.path\" />\r\n                            </keep-alive>\r\n                        </transition>\r\n                    </div>\r\n                    <Copyright v-if=\"$store.state.settings.showCopyright\" />\r\n                </div>\r\n            </div>\r\n            <el-backtop :right=\"20\" :bottom=\"20\" title=\"回到顶部\" />\r\n        </div>\r\n        <Search />\r\n        <ThemeSetting />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport variables from '@/assets/styles/resources/variables.scss'\r\nimport Logo from './components/Logo'\r\nimport UserMenu from './components/UserMenu'\r\nimport SidebarItem from './components/SidebarItem'\r\nimport Topbar from './components/Topbar'\r\nimport Search from './components/Search'\r\nimport ThemeSetting from './components/ThemeSetting'\r\n\r\nexport default {\r\n    name: 'Layout',\r\n    components: {\r\n        Logo,\r\n        Search,\r\n        SidebarItem,\r\n        Topbar,\r\n        ThemeSetting,\r\n        UserMenu\r\n    },\r\n    provide() {\r\n        return {\r\n            reload: this.reload\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            isRouterAlive: true,\r\n            routePath: '',\r\n            sidebarScrollTop: 0,\r\n            scrollTop: 0\r\n        }\r\n    },\r\n    computed: {\r\n        variables() {\r\n            return variables\r\n        },\r\n        realSidebarWidth() {\r\n            let realSidebarWidth = 0\r\n            if (this.$store.state.settings.mode == 'pc') {\r\n                if (!this.$store.state.settings.showHeader && (this.$store.state.menu.routes.length > 1 || this.$store.state.settings.alwaysShowMainSidebar)) {\r\n                    realSidebarWidth = parseInt(variables.g_main_sidebar_width)\r\n                }\r\n                if (this.$store.state.settings.sidebarCollapse) {\r\n                    realSidebarWidth += 64\r\n                } else {\r\n                    realSidebarWidth += parseInt(variables.g_sub_sidebar_width)\r\n                }\r\n            } else {\r\n                realSidebarWidth = parseInt(variables.g_main_sidebar_width) + parseInt(variables.g_sub_sidebar_width)\r\n            }\r\n            return `${realSidebarWidth}px`\r\n        }\r\n    },\r\n    watch: {\r\n        $route: 'routeChange',\r\n        '$store.state.settings.sidebarCollapse'(val) {\r\n            if (this.$store.state.settings.mode == 'mobile') {\r\n                if (!val) {\r\n                    document.querySelector('body').classList.add('hidden')\r\n                } else {\r\n                    document.querySelector('body').classList.remove('hidden')\r\n                }\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$hotkeys('alt+f', e => {\r\n            if (this.$store.state.settings.enableNavSearch) {\r\n                e.preventDefault()\r\n                this.$eventBus.$emit('global-search-toggle')\r\n            }\r\n        })\r\n        this.$hotkeys('f5', e => {\r\n            if (this.$store.state.settings.enablePageReload) {\r\n                e.preventDefault()\r\n                this.reload(2)\r\n            }\r\n        })\r\n        window.addEventListener('scroll', this.onScroll)\r\n    },\r\n    destroyed() {\r\n        window.removeEventListener('scroll', this.onScroll)\r\n    },\r\n    methods: {\r\n        reload(type = 1) {\r\n            if (type == 1) {\r\n                this.isRouterAlive = false\r\n                this.$nextTick(() => (this.isRouterAlive = true))\r\n            } else {\r\n                this.$router.push({\r\n                    name: 'reload'\r\n                })\r\n            }\r\n        },\r\n        routeChange(newVal, oldVal) {\r\n            if (newVal.name == oldVal.name) {\r\n                this.reload()\r\n            }\r\n        },\r\n        onSidebarScroll(e) {\r\n            this.sidebarScrollTop = e.target.scrollTop\r\n        },\r\n        onScroll() {\r\n            this.scrollTop = document.documentElement.scrollTop || document.body.scrollTop\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n[data-mode=mobile] {\r\n    .sidebar-container {\r\n        transition: 0.3s;\r\n        transform: translateX(calc(-1 * #{$g-sidebar-width}));\r\n        &.show {\r\n            transform: translateX(0);\r\n        }\r\n    }\r\n    .main-container {\r\n        margin-left: 0 !important;\r\n    }\r\n}\r\n.layout {\r\n    height: 100%;\r\n}\r\n#app-main {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    transition: all 0.2s;\r\n}\r\nheader {\r\n    position: fixed;\r\n    z-index: 1000;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 20px;\r\n    height: $g-header-height;\r\n    background-color: $g-header-bg;\r\n    color: $g-header-menu-color;\r\n    .header-container {\r\n        width: $g-header-width;\r\n        margin: 0 auto;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .main {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n    }\r\n    @media screen and (max-width: $g-header-width) {\r\n        .header-container {\r\n            width: 100%;\r\n        }\r\n    }\r\n    ::v-deep .title {\r\n        position: relative;\r\n        width: inherit;\r\n        height: inherit;\r\n        padding: inherit;\r\n        background-color: inherit;\r\n        .logo {\r\n            width: 50px;\r\n            height: 50px;\r\n        }\r\n        span {\r\n            font-size: 24px;\r\n            letter-spacing: 1px;\r\n        }\r\n    }\r\n    .nav {\r\n        display: flex;\r\n        margin-left: 50px;\r\n        .item {\r\n            margin: 0 10px;\r\n            padding: 10px;\r\n            border-radius: 10px;\r\n            cursor: pointer;\r\n            transition: all 0.3s;\r\n            &.active,\r\n            &:hover {\r\n                background-color: $g-header-menu-active-bg;\r\n            }\r\n            .svg-icon {\r\n                font-size: 20px;\r\n                & + span {\r\n                    margin-left: 5px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    ::v-deep .user {\r\n        padding: 0;\r\n        .user-container {\r\n            color: #fff;\r\n            font-size: 16px;\r\n        }\r\n    }\r\n}\r\n.wrapper {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    .sidebar-container {\r\n        position: fixed;\r\n        z-index: 1010;\r\n        top: 0;\r\n        bottom: 0;\r\n        display: flex;\r\n        width: var(--real-sidebar-width);\r\n    }\r\n    .sidebar-mask {\r\n        position: fixed;\r\n        z-index: 1000;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba($color: #000, $alpha: 0.5);\r\n        backdrop-filter: blur(2px);\r\n        transition: all 0.2s;\r\n        transform: translateZ(0);\r\n        opacity: 0;\r\n        visibility: hidden;\r\n        &.show {\r\n            opacity: 1;\r\n            visibility: visible;\r\n        }\r\n    }\r\n    .main-sidebar-container,\r\n    .sub-sidebar-container {\r\n        transition: 0.3s;\r\n        overflow-x: hidden;\r\n        overflow-y: auto;\r\n        overscroll-behavior: contain;\r\n        // firefox隐藏滚动条\r\n        scrollbar-width: none;\r\n        // chrome隐藏滚动条\r\n        &::-webkit-scrollbar {\r\n            display: none;\r\n        }\r\n    }\r\n    .main-sidebar-container {\r\n        width: $g-main-sidebar-width;\r\n        background-color: $g-main-sidebar-bg;\r\n        color: #fff;\r\n        .sidebar-logo {\r\n            transition: 0.3s;\r\n            background-color: $g-main-sidebar-bg;\r\n        }\r\n        .nav {\r\n            width: inherit;\r\n            padding-top: $g-sidebar-logo-height;\r\n            .item {\r\n                display: flex;\r\n                flex-direction: column;\r\n                justify-content: center;\r\n                height: 60px;\r\n                padding: 0 5px;\r\n                cursor: pointer;\r\n                transition: 0.3s;\r\n                &.active,\r\n                &:hover {\r\n                    background-color: $g-main-sidebar-menu-active-bg;\r\n                }\r\n                .svg-icon {\r\n                    margin: 0 auto;\r\n                    font-size: 20px;\r\n                }\r\n                span {\r\n                    text-align: center;\r\n                    font-size: 14px;\r\n                    @include text-overflow;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .sub-sidebar-container {\r\n        width: $g-sub-sidebar-width;\r\n        background-color: $g-sub-sidebar-bg;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        box-shadow: 10px 0 10px -10px darken($g-sub-sidebar-bg, 20);\r\n        &.is-collapse {\r\n            width: 64px;\r\n            .sidebar-logo {\r\n                &:not(.sidebar-logo-bg) {\r\n                    display: none;\r\n                }\r\n                ::v-deep span {\r\n                    display: none;\r\n                }\r\n            }\r\n        }\r\n        .sidebar-logo {\r\n            background: $g-sub-sidebar-bg;\r\n            transition: box-shadow 0.2s, background-color 0.3s, color 0.3s;\r\n            &:not(.sidebar-logo-bg) {\r\n                ::v-deep span {\r\n                    color: $g-sub-sidebar-menu-color;\r\n                }\r\n            }\r\n            &.sidebar-logo-bg {\r\n                background: $g-main-sidebar-bg;\r\n            }\r\n            &.shadow {\r\n                box-shadow: 0 10px 10px -10px darken($g-sub-sidebar-bg, 20);\r\n            }\r\n        }\r\n        .el-menu {\r\n            border-right: 0;\r\n            padding-top: $g-sidebar-logo-height;\r\n            transition: border-color 0.3s, background-color 0.3s, color 0.3s;\r\n            &:not(.el-menu--collapse) {\r\n                width: inherit;\r\n            }\r\n            &.is-collapse-without-logo {\r\n                padding-top: 0;\r\n            }\r\n            &.el-menu--collapse {\r\n                ::v-deep .svg-icon {\r\n                    margin-right: 0;\r\n                }\r\n                ::v-deep .el-menu-item,\r\n                ::v-deep .el-submenu__title {\r\n                    span {\r\n                        display: none;\r\n                    }\r\n                    i {\r\n                        right: 7px;\r\n                        margin-top: -5px;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .main-sidebar-container + .sub-sidebar-container {\r\n        left: $g-main-sidebar-width;\r\n    }\r\n    .main-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        min-height: 100%;\r\n        margin-left: $g-sidebar-width;\r\n        background-color: #f5f7f9;\r\n        box-shadow: 1px 0 0 0 darken($g-main-bg, 10);\r\n        transition: 0.3s;\r\n        .main {\r\n            height: 100%;\r\n            flex: auto;\r\n            position: relative;\r\n            padding: $g-topbar-height 10px 0;\r\n            overflow: hidden;\r\n        }\r\n    }\r\n}\r\nheader + .wrapper {\r\n    padding-top: $g-header-height;\r\n    .sidebar-container {\r\n        top: $g-header-height;\r\n        .sidebar-logo {\r\n            display: none;\r\n        }\r\n        .el-menu {\r\n            padding-top: 0;\r\n        }\r\n    }\r\n    .main-container {\r\n        .topbar-container {\r\n            top: $g-header-height;\r\n            ::v-deep .user {\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// 侧边栏动画\r\n.sidebar-enter-active {\r\n    transition: all 0.2s;\r\n}\r\n.sidebar-enter,\r\n.sidebar-leave-active {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n}\r\n.sidebar-leave-active {\r\n    position: absolute;\r\n}\r\n\r\n// 主内容区动画\r\n.main-enter-active {\r\n    transition: all 0.2s;\r\n}\r\n.main-leave-active {\r\n    transition: all 0.15s;\r\n}\r\n.main-enter {\r\n    opacity: 0;\r\n    margin-left: -20px;\r\n}\r\n.main-leave-to {\r\n    opacity: 0;\r\n    margin-left: 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/layout"}]}