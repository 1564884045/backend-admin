{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\RQDL\\base\\backend-admin\\src\\utils\\accessToken.js","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\utils\\accessToken.js","mtime":1620715077827},{"path":"G:\\RQDL\\base\\backend-admin\\babel.config.js","mtime":1620715077731},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGdsb2JhbFNldHRpbmdzIGZyb20gJ0Avc2V0dGluZyc7CnZhciBzdG9yYWdlVHlwZSA9IGdsb2JhbFNldHRpbmdzLnN0b3JhZ2VUeXBlOwp2YXIgdG9rZW5LZXkgPSBnbG9iYWxTZXR0aW5ncy50b2tlbktleTsKLyoqDQogKg0KICogQGRlc2NyaXB0aW9uIOiOt+WPlmFjY2Vzc1Rva2VuDQogKiBAcmV0dXJucyB7c3RyaW5nfEFjdGl2ZVguSVhNTERPTU5vZGV8UHJvbWlzZTxhbnk+fGFueXxJREJSZXF1ZXN0PGFueT58TWVkaWFLZXlTdGF0dXN8Rm9ybURhdGFFbnRyeVZhbHVlfEZ1bmN0aW9ufFByb21pc2U8Q3JlZGVudGlhbCB8IG51bGw+fQ0KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW4oKSB7CiAgaWYgKHN0b3JhZ2VUeXBlKSB7CiAgICBpZiAoJ2xvY2FsU3RvcmFnZScgPT09IHN0b3JhZ2VUeXBlKSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0b2tlbktleSk7CiAgICB9IGVsc2UgaWYgKCdzZXNzaW9uU3RvcmFnZScgPT09IHN0b3JhZ2VUeXBlKSB7CiAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRva2VuS2V5KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0b2tlbktleSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0b2tlbktleSk7CiAgfQp9Ci8qKg0KICoNCiAqIEBkZXNjcmlwdGlvbiDlrZjlgqhhY2Nlc3NUb2tlbg0KICogQHBhcmFtIGFjY2Vzc1Rva2VuDQogKiBAcmV0dXJucyB7dm9pZHwqfQ0KICovCgpleHBvcnQgZnVuY3Rpb24gc2V0QWNjZXNzVG9rZW4oYWNjZXNzVG9rZW4pIHsKICBjb25zb2xlLmxvZygn5a2Y5YKoYWNjZXNzVG9rZW4nLCBhY2Nlc3NUb2tlbik7CgogIGlmIChzdG9yYWdlVHlwZSkgewogICAgaWYgKCdsb2NhbFN0b3JhZ2UnID09PSBzdG9yYWdlVHlwZSkgewogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0odG9rZW5LZXksIGFjY2Vzc1Rva2VuKTsKICAgIH0gZWxzZSBpZiAoJ3Nlc3Npb25TdG9yYWdlJyA9PT0gc3RvcmFnZVR5cGUpIHsKICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0odG9rZW5LZXksIGFjY2Vzc1Rva2VuKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0b2tlbktleSwgYWNjZXNzVG9rZW4pOwogICAgfQogIH0gZWxzZSB7CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0odG9rZW5LZXksIGFjY2Vzc1Rva2VuKTsKICB9Cn0KLyoqDQogKg0KICogQGRlc2NyaXB0aW9uIOenu+mZpGFjY2Vzc1Rva2VuDQogKiBAcmV0dXJucyB7dm9pZHxQcm9taXNlPHZvaWQ+fQ0KICovCgpleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjZXNzVG9rZW4oKSB7CiAgaWYgKHN0b3JhZ2VUeXBlKSB7CiAgICBpZiAoJ2xvY2FsU3RvcmFnZScgPT09IHN0b3JhZ2VUeXBlKSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0b2tlbktleSk7CiAgICB9IGVsc2UgaWYgKCdzZXNzaW9uU3RvcmFnZScgPT09IHN0b3JhZ2VUeXBlKSB7CiAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRva2VuS2V5KTsKICAgIH0KICB9IGVsc2UgewogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRva2VuS2V5KTsKICB9Cn0="},{"version":3,"sources":["G:/RQDL/base/backend-admin/src/utils/accessToken.js"],"names":["globalSettings","storageType","tokenKey","getAccessToken","localStorage","getItem","sessionStorage","setAccessToken","accessToken","console","log","setItem","removeAccessToken","removeItem","clear"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,WAA3B;AAEA,IAAMC,WAAW,GAAGD,cAAc,CAACC,WAAnC;AACA,IAAMC,QAAQ,GAAGF,cAAc,CAACE,QAAhC;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAAT,GAA0B;AAC/B,MAAIF,WAAJ,EAAiB;AACf,QAAI,mBAAmBA,WAAvB,EAAoC;AAClC,aAAOG,YAAY,CAACC,OAAb,CAAqBH,QAArB,CAAP;AACD,KAFD,MAEO,IAAI,qBAAqBD,WAAzB,EAAsC;AAC3C,aAAOK,cAAc,CAACD,OAAf,CAAuBH,QAAvB,CAAP;AACD,KAFM,MAEA;AACL,aAAOE,YAAY,CAACC,OAAb,CAAqBH,QAArB,CAAP;AACD;AACF,GARD,MAQO;AACL,WAAOE,YAAY,CAACC,OAAb,CAAqBH,QAArB,CAAP;AACD;AACF;AAED;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,cAAT,CAAwBC,WAAxB,EAAqC;AAC1CC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BF,WAA5B;;AACA,MAAIP,WAAJ,EAAiB;AACf,QAAI,mBAAmBA,WAAvB,EAAoC;AAClC,aAAOG,YAAY,CAACO,OAAb,CAAqBT,QAArB,EAA+BM,WAA/B,CAAP;AACD,KAFD,MAEO,IAAI,qBAAqBP,WAAzB,EAAsC;AAC3C,aAAOK,cAAc,CAACK,OAAf,CAAuBT,QAAvB,EAAiCM,WAAjC,CAAP;AACD,KAFM,MAEA;AACL,aAAOJ,YAAY,CAACO,OAAb,CAAqBT,QAArB,EAA+BM,WAA/B,CAAP;AACD;AACF,GARD,MAQO;AACL,WAAOJ,YAAY,CAACO,OAAb,CAAqBT,QAArB,EAA+BM,WAA/B,CAAP;AACD;AACF;AAED;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,iBAAT,GAA6B;AAClC,MAAIX,WAAJ,EAAiB;AACf,QAAI,mBAAmBA,WAAvB,EAAoC;AAClC,aAAOG,YAAY,CAACS,UAAb,CAAwBX,QAAxB,CAAP;AACD,KAFD,MAEO,IAAI,qBAAqBD,WAAzB,EAAsC;AAC3C,aAAOK,cAAc,CAACQ,KAAf,EAAP;AACD,KAFM,MAEA;AACL,aAAOV,YAAY,CAACS,UAAb,CAAwBX,QAAxB,CAAP;AACD;AACF,GARD,MAQO;AACL,WAAOE,YAAY,CAACS,UAAb,CAAwBX,QAAxB,CAAP;AACD;AACF","sourcesContent":["import globalSettings from '@/setting'\r\n\r\nconst storageType = globalSettings.storageType;\r\nconst tokenKey = globalSettings.tokenKey;\r\n\r\n/**\r\n *\r\n * @description 获取accessToken\r\n * @returns {string|ActiveX.IXMLDOMNode|Promise<any>|any|IDBRequest<any>|MediaKeyStatus|FormDataEntryValue|Function|Promise<Credential | null>}\r\n */\r\nexport function getAccessToken() {\r\n  if (storageType) {\r\n    if ('localStorage' === storageType) {\r\n      return localStorage.getItem(tokenKey)\r\n    } else if ('sessionStorage' === storageType) {\r\n      return sessionStorage.getItem(tokenKey)\r\n    } else {\r\n      return localStorage.getItem(tokenKey)\r\n    }\r\n  } else {\r\n    return localStorage.getItem(tokenKey)\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @description 存储accessToken\r\n * @param accessToken\r\n * @returns {void|*}\r\n */\r\nexport function setAccessToken(accessToken) {\r\n  console.log('存储accessToken',accessToken)\r\n  if (storageType) {\r\n    if ('localStorage' === storageType) {\r\n      return localStorage.setItem(tokenKey, accessToken)\r\n    } else if ('sessionStorage' === storageType) {\r\n      return sessionStorage.setItem(tokenKey, accessToken)\r\n    } else {\r\n      return localStorage.setItem(tokenKey, accessToken)\r\n    }\r\n  } else {\r\n    return localStorage.setItem(tokenKey, accessToken)\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @description 移除accessToken\r\n * @returns {void|Promise<void>}\r\n */\r\nexport function removeAccessToken() {\r\n  if (storageType) {\r\n    if ('localStorage' === storageType) {\r\n      return localStorage.removeItem(tokenKey)\r\n    } else if ('sessionStorage' === storageType) {\r\n      return sessionStorage.clear()\r\n    } else {\r\n      return localStorage.removeItem(tokenKey)\r\n    }\r\n  } else {\r\n    return localStorage.removeItem(tokenKey)\r\n  }\r\n}\r\n"]}]}