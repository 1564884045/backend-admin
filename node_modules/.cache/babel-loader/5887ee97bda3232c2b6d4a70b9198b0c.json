{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\RQDL\\base\\backend-admin\\node_modules\\element-ui\\src\\utils\\popup\\popup-manager.js","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\element-ui\\src\\utils\\popup\\popup-manager.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\babel.config.js","mtime":1620715077731},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGFkZENsYXNzLCByZW1vdmVDbGFzcyB9IGZyb20gJ2VsZW1lbnQtdWkvc3JjL3V0aWxzL2RvbSc7CnZhciBoYXNNb2RhbCA9IGZhbHNlOwp2YXIgaGFzSW5pdFpJbmRleCA9IGZhbHNlOwp2YXIgekluZGV4OwoKdmFyIGdldE1vZGFsID0gZnVuY3Rpb24gZ2V0TW9kYWwoKSB7CiAgaWYgKFZ1ZS5wcm90b3R5cGUuJGlzU2VydmVyKSByZXR1cm47CiAgdmFyIG1vZGFsRG9tID0gUG9wdXBNYW5hZ2VyLm1vZGFsRG9tOwoKICBpZiAobW9kYWxEb20pIHsKICAgIGhhc01vZGFsID0gdHJ1ZTsKICB9IGVsc2UgewogICAgaGFzTW9kYWwgPSBmYWxzZTsKICAgIG1vZGFsRG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBQb3B1cE1hbmFnZXIubW9kYWxEb20gPSBtb2RhbERvbTsKICAgIG1vZGFsRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0pOwogICAgbW9kYWxEb20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIFBvcHVwTWFuYWdlci5kb09uTW9kYWxDbGljayAmJiBQb3B1cE1hbmFnZXIuZG9Pbk1vZGFsQ2xpY2soKTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIG1vZGFsRG9tOwp9OwoKdmFyIGluc3RhbmNlcyA9IHt9Owp2YXIgUG9wdXBNYW5hZ2VyID0gewogIG1vZGFsRmFkZTogdHJ1ZSwKICBnZXRJbnN0YW5jZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoaWQpIHsKICAgIHJldHVybiBpbnN0YW5jZXNbaWRdOwogIH0sCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGlkLCBpbnN0YW5jZSkgewogICAgaWYgKGlkICYmIGluc3RhbmNlKSB7CiAgICAgIGluc3RhbmNlc1tpZF0gPSBpbnN0YW5jZTsKICAgIH0KICB9LAogIGRlcmVnaXN0ZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXIoaWQpIHsKICAgIGlmIChpZCkgewogICAgICBpbnN0YW5jZXNbaWRdID0gbnVsbDsKICAgICAgZGVsZXRlIGluc3RhbmNlc1tpZF07CiAgICB9CiAgfSwKICBuZXh0WkluZGV4OiBmdW5jdGlvbiBuZXh0WkluZGV4KCkgewogICAgcmV0dXJuIFBvcHVwTWFuYWdlci56SW5kZXgrKzsKICB9LAogIG1vZGFsU3RhY2s6IFtdLAogIGRvT25Nb2RhbENsaWNrOiBmdW5jdGlvbiBkb09uTW9kYWxDbGljaygpIHsKICAgIHZhciB0b3BJdGVtID0gUG9wdXBNYW5hZ2VyLm1vZGFsU3RhY2tbUG9wdXBNYW5hZ2VyLm1vZGFsU3RhY2subGVuZ3RoIC0gMV07CiAgICBpZiAoIXRvcEl0ZW0pIHJldHVybjsKICAgIHZhciBpbnN0YW5jZSA9IFBvcHVwTWFuYWdlci5nZXRJbnN0YW5jZSh0b3BJdGVtLmlkKTsKCiAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuY2xvc2VPbkNsaWNrTW9kYWwpIHsKICAgICAgaW5zdGFuY2UuY2xvc2UoKTsKICAgIH0KICB9LAogIG9wZW5Nb2RhbDogZnVuY3Rpb24gb3Blbk1vZGFsKGlkLCB6SW5kZXgsIGRvbSwgbW9kYWxDbGFzcywgbW9kYWxGYWRlKSB7CiAgICBpZiAoVnVlLnByb3RvdHlwZS4kaXNTZXJ2ZXIpIHJldHVybjsKICAgIGlmICghaWQgfHwgekluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgIHRoaXMubW9kYWxGYWRlID0gbW9kYWxGYWRlOwogICAgdmFyIG1vZGFsU3RhY2sgPSB0aGlzLm1vZGFsU3RhY2s7CgogICAgZm9yICh2YXIgaSA9IDAsIGogPSBtb2RhbFN0YWNrLmxlbmd0aDsgaSA8IGo7IGkrKykgewogICAgICB2YXIgaXRlbSA9IG1vZGFsU3RhY2tbaV07CgogICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KCiAgICB2YXIgbW9kYWxEb20gPSBnZXRNb2RhbCgpOwogICAgYWRkQ2xhc3MobW9kYWxEb20sICd2LW1vZGFsJyk7CgogICAgaWYgKHRoaXMubW9kYWxGYWRlICYmICFoYXNNb2RhbCkgewogICAgICBhZGRDbGFzcyhtb2RhbERvbSwgJ3YtbW9kYWwtZW50ZXInKTsKICAgIH0KCiAgICBpZiAobW9kYWxDbGFzcykgewogICAgICB2YXIgY2xhc3NBcnIgPSBtb2RhbENsYXNzLnRyaW0oKS5zcGxpdCgvXHMrLyk7CiAgICAgIGNsYXNzQXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gYWRkQ2xhc3MobW9kYWxEb20sIGl0ZW0pOwogICAgICB9KTsKICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcmVtb3ZlQ2xhc3MobW9kYWxEb20sICd2LW1vZGFsLWVudGVyJyk7CiAgICB9LCAyMDApOwoKICAgIGlmIChkb20gJiYgZG9tLnBhcmVudE5vZGUgJiYgZG9tLnBhcmVudE5vZGUubm9kZVR5cGUgIT09IDExKSB7CiAgICAgIGRvbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG1vZGFsRG9tKTsKICAgIH0gZWxzZSB7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWxEb20pOwogICAgfQoKICAgIGlmICh6SW5kZXgpIHsKICAgICAgbW9kYWxEb20uc3R5bGUuekluZGV4ID0gekluZGV4OwogICAgfQoKICAgIG1vZGFsRG9tLnRhYkluZGV4ID0gMDsKICAgIG1vZGFsRG9tLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHRoaXMubW9kYWxTdGFjay5wdXNoKHsKICAgICAgaWQ6IGlkLAogICAgICB6SW5kZXg6IHpJbmRleCwKICAgICAgbW9kYWxDbGFzczogbW9kYWxDbGFzcwogICAgfSk7CiAgfSwKICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKGlkKSB7CiAgICB2YXIgbW9kYWxTdGFjayA9IHRoaXMubW9kYWxTdGFjazsKICAgIHZhciBtb2RhbERvbSA9IGdldE1vZGFsKCk7CgogICAgaWYgKG1vZGFsU3RhY2subGVuZ3RoID4gMCkgewogICAgICB2YXIgdG9wSXRlbSA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXTsKCiAgICAgIGlmICh0b3BJdGVtLmlkID09PSBpZCkgewogICAgICAgIGlmICh0b3BJdGVtLm1vZGFsQ2xhc3MpIHsKICAgICAgICAgIHZhciBjbGFzc0FyciA9IHRvcEl0ZW0ubW9kYWxDbGFzcy50cmltKCkuc3BsaXQoL1xzKy8pOwogICAgICAgICAgY2xhc3NBcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gcmVtb3ZlQ2xhc3MobW9kYWxEb20sIGl0ZW0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBtb2RhbFN0YWNrLnBvcCgpOwoKICAgICAgICBpZiAobW9kYWxTdGFjay5sZW5ndGggPiAwKSB7CiAgICAgICAgICBtb2RhbERvbS5zdHlsZS56SW5kZXggPSBtb2RhbFN0YWNrW21vZGFsU3RhY2subGVuZ3RoIC0gMV0uekluZGV4OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpID0gbW9kYWxTdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgaWYgKG1vZGFsU3RhY2tbaV0uaWQgPT09IGlkKSB7CiAgICAgICAgICAgIG1vZGFsU3RhY2suc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAobW9kYWxTdGFjay5sZW5ndGggPT09IDApIHsKICAgICAgaWYgKHRoaXMubW9kYWxGYWRlKSB7CiAgICAgICAgYWRkQ2xhc3MobW9kYWxEb20sICd2LW1vZGFsLWxlYXZlJyk7CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgaWYgKG1vZGFsRG9tLnBhcmVudE5vZGUpIG1vZGFsRG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobW9kYWxEb20pOwogICAgICAgICAgbW9kYWxEb20uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIFBvcHVwTWFuYWdlci5tb2RhbERvbSA9IHVuZGVmaW5lZDsKICAgICAgICB9CgogICAgICAgIHJlbW92ZUNsYXNzKG1vZGFsRG9tLCAndi1tb2RhbC1sZWF2ZScpOwogICAgICB9LCAyMDApOwogICAgfQogIH0KfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvcHVwTWFuYWdlciwgJ3pJbmRleCcsIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICBpZiAoIWhhc0luaXRaSW5kZXgpIHsKICAgICAgekluZGV4ID0gekluZGV4IHx8IChWdWUucHJvdG90eXBlLiRFTEVNRU5UIHx8IHt9KS56SW5kZXggfHwgMjAwMDsKICAgICAgaGFzSW5pdFpJbmRleCA9IHRydWU7CiAgICB9CgogICAgcmV0dXJuIHpJbmRleDsKICB9LAogIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICB6SW5kZXggPSB2YWx1ZTsKICB9Cn0pOwoKdmFyIGdldFRvcFBvcHVwID0gZnVuY3Rpb24gZ2V0VG9wUG9wdXAoKSB7CiAgaWYgKFZ1ZS5wcm90b3R5cGUuJGlzU2VydmVyKSByZXR1cm47CgogIGlmIChQb3B1cE1hbmFnZXIubW9kYWxTdGFjay5sZW5ndGggPiAwKSB7CiAgICB2YXIgdG9wUG9wdXAgPSBQb3B1cE1hbmFnZXIubW9kYWxTdGFja1tQb3B1cE1hbmFnZXIubW9kYWxTdGFjay5sZW5ndGggLSAxXTsKICAgIGlmICghdG9wUG9wdXApIHJldHVybjsKICAgIHZhciBpbnN0YW5jZSA9IFBvcHVwTWFuYWdlci5nZXRJbnN0YW5jZSh0b3BQb3B1cC5pZCk7CiAgICByZXR1cm4gaW5zdGFuY2U7CiAgfQp9OwoKaWYgKCFWdWUucHJvdG90eXBlLiRpc1NlcnZlcikgewogIC8vIGhhbmRsZSBgZXNjYCBrZXkgd2hlbiB0aGUgcG9wdXAgaXMgc2hvd24KICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB7CiAgICAgIHZhciB0b3BQb3B1cCA9IGdldFRvcFBvcHVwKCk7CgogICAgICBpZiAodG9wUG9wdXAgJiYgdG9wUG9wdXAuY2xvc2VPblByZXNzRXNjYXBlKSB7CiAgICAgICAgdG9wUG9wdXAuaGFuZGxlQ2xvc2UgPyB0b3BQb3B1cC5oYW5kbGVDbG9zZSgpIDogdG9wUG9wdXAuaGFuZGxlQWN0aW9uID8gdG9wUG9wdXAuaGFuZGxlQWN0aW9uKCdjYW5jZWwnKSA6IHRvcFBvcHVwLmNsb3NlKCk7CiAgICAgIH0KICAgIH0KICB9KTsKfQoKZXhwb3J0IGRlZmF1bHQgUG9wdXBNYW5hZ2VyOw=="},{"version":3,"sources":["G:/RQDL/base/backend-admin/node_modules/element-ui/src/utils/popup/popup-manager.js"],"names":["Vue","addClass","removeClass","hasModal","hasInitZIndex","zIndex","getModal","prototype","$isServer","modalDom","PopupManager","document","createElement","addEventListener","event","preventDefault","stopPropagation","doOnModalClick","instances","modalFade","getInstance","id","register","instance","deregister","nextZIndex","modalStack","topItem","length","closeOnClickModal","close","openModal","dom","modalClass","undefined","i","j","item","classArr","trim","split","forEach","setTimeout","parentNode","nodeType","appendChild","body","style","tabIndex","display","push","closeModal","pop","splice","removeChild","Object","defineProperty","configurable","get","$ELEMENT","set","value","getTopPopup","topPopup","window","keyCode","closeOnPressEscape","handleClose","handleAction"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,0BAAtC;AAEA,IAAIC,QAAQ,GAAG,KAAf;AACA,IAAIC,aAAa,GAAG,KAApB;AACA,IAAIC,MAAJ;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAW;AAC1B,MAAIN,GAAG,CAACO,SAAJ,CAAcC,SAAlB,EAA6B;AAC7B,MAAIC,QAAQ,GAAGC,YAAY,CAACD,QAA5B;;AACA,MAAIA,QAAJ,EAAc;AACZN,IAAAA,QAAQ,GAAG,IAAX;AACD,GAFD,MAEO;AACLA,IAAAA,QAAQ,GAAG,KAAX;AACAM,IAAAA,QAAQ,GAAGE,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AACAF,IAAAA,YAAY,CAACD,QAAb,GAAwBA,QAAxB;AAEAA,IAAAA,QAAQ,CAACI,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACrDA,MAAAA,KAAK,CAACC,cAAN;AACAD,MAAAA,KAAK,CAACE,eAAN;AACD,KAHD;AAKAP,IAAAA,QAAQ,CAACI,gBAAT,CAA0B,OAA1B,EAAmC,YAAW;AAC5CH,MAAAA,YAAY,CAACO,cAAb,IAA+BP,YAAY,CAACO,cAAb,EAA/B;AACD,KAFD;AAGD;;AAED,SAAOR,QAAP;AACD,CArBD;;AAuBA,IAAMS,SAAS,GAAG,EAAlB;AAEA,IAAMR,YAAY,GAAG;AACnBS,EAAAA,SAAS,EAAE,IADQ;AAGnBC,EAAAA,WAAW,EAAE,qBAASC,EAAT,EAAa;AACxB,WAAOH,SAAS,CAACG,EAAD,CAAhB;AACD,GALkB;AAOnBC,EAAAA,QAAQ,EAAE,kBAASD,EAAT,EAAaE,QAAb,EAAuB;AAC/B,QAAIF,EAAE,IAAIE,QAAV,EAAoB;AAClBL,MAAAA,SAAS,CAACG,EAAD,CAAT,GAAgBE,QAAhB;AACD;AACF,GAXkB;AAanBC,EAAAA,UAAU,EAAE,oBAASH,EAAT,EAAa;AACvB,QAAIA,EAAJ,EAAQ;AACNH,MAAAA,SAAS,CAACG,EAAD,CAAT,GAAgB,IAAhB;AACA,aAAOH,SAAS,CAACG,EAAD,CAAhB;AACD;AACF,GAlBkB;AAoBnBI,EAAAA,UAAU,EAAE,sBAAW;AACrB,WAAOf,YAAY,CAACL,MAAb,EAAP;AACD,GAtBkB;AAwBnBqB,EAAAA,UAAU,EAAE,EAxBO;AA0BnBT,EAAAA,cAAc,EAAE,0BAAW;AACzB,QAAMU,OAAO,GAAGjB,YAAY,CAACgB,UAAb,CAAwBhB,YAAY,CAACgB,UAAb,CAAwBE,MAAxB,GAAiC,CAAzD,CAAhB;AACA,QAAI,CAACD,OAAL,EAAc;AAEd,QAAMJ,QAAQ,GAAGb,YAAY,CAACU,WAAb,CAAyBO,OAAO,CAACN,EAAjC,CAAjB;;AACA,QAAIE,QAAQ,IAAIA,QAAQ,CAACM,iBAAzB,EAA4C;AAC1CN,MAAAA,QAAQ,CAACO,KAAT;AACD;AACF,GAlCkB;AAoCnBC,EAAAA,SAAS,EAAE,mBAASV,EAAT,EAAahB,MAAb,EAAqB2B,GAArB,EAA0BC,UAA1B,EAAsCd,SAAtC,EAAiD;AAC1D,QAAInB,GAAG,CAACO,SAAJ,CAAcC,SAAlB,EAA6B;AAC7B,QAAI,CAACa,EAAD,IAAOhB,MAAM,KAAK6B,SAAtB,EAAiC;AACjC,SAAKf,SAAL,GAAiBA,SAAjB;AAEA,QAAMO,UAAU,GAAG,KAAKA,UAAxB;;AAEA,SAAK,IAAIS,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGV,UAAU,CAACE,MAA/B,EAAuCO,CAAC,GAAGC,CAA3C,EAA8CD,CAAC,EAA/C,EAAmD;AACjD,UAAME,IAAI,GAAGX,UAAU,CAACS,CAAD,CAAvB;;AACA,UAAIE,IAAI,CAAChB,EAAL,KAAYA,EAAhB,EAAoB;AAClB;AACD;AACF;;AAED,QAAMZ,QAAQ,GAAGH,QAAQ,EAAzB;AAEAL,IAAAA,QAAQ,CAACQ,QAAD,EAAW,SAAX,CAAR;;AACA,QAAI,KAAKU,SAAL,IAAkB,CAAChB,QAAvB,EAAiC;AAC/BF,MAAAA,QAAQ,CAACQ,QAAD,EAAW,eAAX,CAAR;AACD;;AACD,QAAIwB,UAAJ,EAAgB;AACd,UAAIK,QAAQ,GAAGL,UAAU,CAACM,IAAX,GAAkBC,KAAlB,CAAwB,KAAxB,CAAf;AACAF,MAAAA,QAAQ,CAACG,OAAT,CAAiB,UAAAJ,IAAI;AAAA,eAAIpC,QAAQ,CAACQ,QAAD,EAAW4B,IAAX,CAAZ;AAAA,OAArB;AACD;;AACDK,IAAAA,UAAU,CAAC,YAAM;AACfxC,MAAAA,WAAW,CAACO,QAAD,EAAW,eAAX,CAAX;AACD,KAFS,EAEP,GAFO,CAAV;;AAIA,QAAIuB,GAAG,IAAIA,GAAG,CAACW,UAAX,IAAyBX,GAAG,CAACW,UAAJ,CAAeC,QAAf,KAA4B,EAAzD,EAA6D;AAC3DZ,MAAAA,GAAG,CAACW,UAAJ,CAAeE,WAAf,CAA2BpC,QAA3B;AACD,KAFD,MAEO;AACLE,MAAAA,QAAQ,CAACmC,IAAT,CAAcD,WAAd,CAA0BpC,QAA1B;AACD;;AAED,QAAIJ,MAAJ,EAAY;AACVI,MAAAA,QAAQ,CAACsC,KAAT,CAAe1C,MAAf,GAAwBA,MAAxB;AACD;;AACDI,IAAAA,QAAQ,CAACuC,QAAT,GAAoB,CAApB;AACAvC,IAAAA,QAAQ,CAACsC,KAAT,CAAeE,OAAf,GAAyB,EAAzB;AAEA,SAAKvB,UAAL,CAAgBwB,IAAhB,CAAqB;AAAE7B,MAAAA,EAAE,EAAEA,EAAN;AAAUhB,MAAAA,MAAM,EAAEA,MAAlB;AAA0B4B,MAAAA,UAAU,EAAEA;AAAtC,KAArB;AACD,GA7EkB;AA+EnBkB,EAAAA,UAAU,EAAE,oBAAS9B,EAAT,EAAa;AACvB,QAAMK,UAAU,GAAG,KAAKA,UAAxB;AACA,QAAMjB,QAAQ,GAAGH,QAAQ,EAAzB;;AAEA,QAAIoB,UAAU,CAACE,MAAX,GAAoB,CAAxB,EAA2B;AACzB,UAAMD,OAAO,GAAGD,UAAU,CAACA,UAAU,CAACE,MAAX,GAAoB,CAArB,CAA1B;;AACA,UAAID,OAAO,CAACN,EAAR,KAAeA,EAAnB,EAAuB;AACrB,YAAIM,OAAO,CAACM,UAAZ,EAAwB;AACtB,cAAIK,QAAQ,GAAGX,OAAO,CAACM,UAAR,CAAmBM,IAAnB,GAA0BC,KAA1B,CAAgC,KAAhC,CAAf;AACAF,UAAAA,QAAQ,CAACG,OAAT,CAAiB,UAAAJ,IAAI;AAAA,mBAAInC,WAAW,CAACO,QAAD,EAAW4B,IAAX,CAAf;AAAA,WAArB;AACD;;AAEDX,QAAAA,UAAU,CAAC0B,GAAX;;AACA,YAAI1B,UAAU,CAACE,MAAX,GAAoB,CAAxB,EAA2B;AACzBnB,UAAAA,QAAQ,CAACsC,KAAT,CAAe1C,MAAf,GAAwBqB,UAAU,CAACA,UAAU,CAACE,MAAX,GAAoB,CAArB,CAAV,CAAkCvB,MAA1D;AACD;AACF,OAVD,MAUO;AACL,aAAK,IAAI8B,CAAC,GAAGT,UAAU,CAACE,MAAX,GAAoB,CAAjC,EAAoCO,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD;AAC/C,cAAIT,UAAU,CAACS,CAAD,CAAV,CAAcd,EAAd,KAAqBA,EAAzB,EAA6B;AAC3BK,YAAAA,UAAU,CAAC2B,MAAX,CAAkBlB,CAAlB,EAAqB,CAArB;AACA;AACD;AACF;AACF;AACF;;AAED,QAAIT,UAAU,CAACE,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,UAAI,KAAKT,SAAT,EAAoB;AAClBlB,QAAAA,QAAQ,CAACQ,QAAD,EAAW,eAAX,CAAR;AACD;;AACDiC,MAAAA,UAAU,CAAC,YAAM;AACf,YAAIhB,UAAU,CAACE,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,cAAInB,QAAQ,CAACkC,UAAb,EAAyBlC,QAAQ,CAACkC,UAAT,CAAoBW,WAApB,CAAgC7C,QAAhC;AACzBA,UAAAA,QAAQ,CAACsC,KAAT,CAAeE,OAAf,GAAyB,MAAzB;AACAvC,UAAAA,YAAY,CAACD,QAAb,GAAwByB,SAAxB;AACD;;AACDhC,QAAAA,WAAW,CAACO,QAAD,EAAW,eAAX,CAAX;AACD,OAPS,EAOP,GAPO,CAAV;AAQD;AACF;AAtHkB,CAArB;AAyHA8C,MAAM,CAACC,cAAP,CAAsB9C,YAAtB,EAAoC,QAApC,EAA8C;AAC5C+C,EAAAA,YAAY,EAAE,IAD8B;AAE5CC,EAAAA,GAF4C,iBAEtC;AACJ,QAAI,CAACtD,aAAL,EAAoB;AAClBC,MAAAA,MAAM,GAAGA,MAAM,IAAI,CAACL,GAAG,CAACO,SAAJ,CAAcoD,QAAd,IAA0B,EAA3B,EAA+BtD,MAAzC,IAAmD,IAA5D;AACAD,MAAAA,aAAa,GAAG,IAAhB;AACD;;AACD,WAAOC,MAAP;AACD,GAR2C;AAS5CuD,EAAAA,GAT4C,eASxCC,KATwC,EASjC;AACTxD,IAAAA,MAAM,GAAGwD,KAAT;AACD;AAX2C,CAA9C;;AAcA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAW;AAC7B,MAAI9D,GAAG,CAACO,SAAJ,CAAcC,SAAlB,EAA6B;;AAC7B,MAAIE,YAAY,CAACgB,UAAb,CAAwBE,MAAxB,GAAiC,CAArC,EAAwC;AACtC,QAAMmC,QAAQ,GAAGrD,YAAY,CAACgB,UAAb,CAAwBhB,YAAY,CAACgB,UAAb,CAAwBE,MAAxB,GAAiC,CAAzD,CAAjB;AACA,QAAI,CAACmC,QAAL,EAAe;AACf,QAAMxC,QAAQ,GAAGb,YAAY,CAACU,WAAb,CAAyB2C,QAAQ,CAAC1C,EAAlC,CAAjB;AAEA,WAAOE,QAAP;AACD;AACF,CATD;;AAWA,IAAI,CAACvB,GAAG,CAACO,SAAJ,CAAcC,SAAnB,EAA8B;AAC5B;AACAwD,EAAAA,MAAM,CAACnD,gBAAP,CAAwB,SAAxB,EAAmC,UAASC,KAAT,EAAgB;AACjD,QAAIA,KAAK,CAACmD,OAAN,KAAkB,EAAtB,EAA0B;AACxB,UAAMF,QAAQ,GAAGD,WAAW,EAA5B;;AAEA,UAAIC,QAAQ,IAAIA,QAAQ,CAACG,kBAAzB,EAA6C;AAC3CH,QAAAA,QAAQ,CAACI,WAAT,GACIJ,QAAQ,CAACI,WAAT,EADJ,GAEKJ,QAAQ,CAACK,YAAT,GAAwBL,QAAQ,CAACK,YAAT,CAAsB,QAAtB,CAAxB,GAA0DL,QAAQ,CAACjC,KAAT,EAF/D;AAGD;AACF;AACF,GAVD;AAWD;;AAED,eAAepB,YAAf","sourcesContent":["import Vue from 'vue';\nimport { addClass, removeClass } from 'element-ui/src/utils/dom';\n\nlet hasModal = false;\nlet hasInitZIndex = false;\nlet zIndex;\n\nconst getModal = function() {\n  if (Vue.prototype.$isServer) return;\n  let modalDom = PopupManager.modalDom;\n  if (modalDom) {\n    hasModal = true;\n  } else {\n    hasModal = false;\n    modalDom = document.createElement('div');\n    PopupManager.modalDom = modalDom;\n\n    modalDom.addEventListener('touchmove', function(event) {\n      event.preventDefault();\n      event.stopPropagation();\n    });\n\n    modalDom.addEventListener('click', function() {\n      PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n    });\n  }\n\n  return modalDom;\n};\n\nconst instances = {};\n\nconst PopupManager = {\n  modalFade: true,\n\n  getInstance: function(id) {\n    return instances[id];\n  },\n\n  register: function(id, instance) {\n    if (id && instance) {\n      instances[id] = instance;\n    }\n  },\n\n  deregister: function(id) {\n    if (id) {\n      instances[id] = null;\n      delete instances[id];\n    }\n  },\n\n  nextZIndex: function() {\n    return PopupManager.zIndex++;\n  },\n\n  modalStack: [],\n\n  doOnModalClick: function() {\n    const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topItem) return;\n\n    const instance = PopupManager.getInstance(topItem.id);\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n\n  openModal: function(id, zIndex, dom, modalClass, modalFade) {\n    if (Vue.prototype.$isServer) return;\n    if (!id || zIndex === undefined) return;\n    this.modalFade = modalFade;\n\n    const modalStack = this.modalStack;\n\n    for (let i = 0, j = modalStack.length; i < j; i++) {\n      const item = modalStack[i];\n      if (item.id === id) {\n        return;\n      }\n    }\n\n    const modalDom = getModal();\n\n    addClass(modalDom, 'v-modal');\n    if (this.modalFade && !hasModal) {\n      addClass(modalDom, 'v-modal-enter');\n    }\n    if (modalClass) {\n      let classArr = modalClass.trim().split(/\\s+/);\n      classArr.forEach(item => addClass(modalDom, item));\n    }\n    setTimeout(() => {\n      removeClass(modalDom, 'v-modal-enter');\n    }, 200);\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom);\n    } else {\n      document.body.appendChild(modalDom);\n    }\n\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex;\n    }\n    modalDom.tabIndex = 0;\n    modalDom.style.display = '';\n\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\n  },\n\n  closeModal: function(id) {\n    const modalStack = this.modalStack;\n    const modalDom = getModal();\n\n    if (modalStack.length > 0) {\n      const topItem = modalStack[modalStack.length - 1];\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          let classArr = topItem.modalClass.trim().split(/\\s+/);\n          classArr.forEach(item => removeClass(modalDom, item));\n        }\n\n        modalStack.pop();\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n        }\n      } else {\n        for (let i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      if (this.modalFade) {\n        addClass(modalDom, 'v-modal-leave');\n      }\n      setTimeout(() => {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n          modalDom.style.display = 'none';\n          PopupManager.modalDom = undefined;\n        }\n        removeClass(modalDom, 'v-modal-leave');\n      }, 200);\n    }\n  }\n};\n\nObject.defineProperty(PopupManager, 'zIndex', {\n  configurable: true,\n  get() {\n    if (!hasInitZIndex) {\n      zIndex = zIndex || (Vue.prototype.$ELEMENT || {}).zIndex || 2000;\n      hasInitZIndex = true;\n    }\n    return zIndex;\n  },\n  set(value) {\n    zIndex = value;\n  }\n});\n\nconst getTopPopup = function() {\n  if (Vue.prototype.$isServer) return;\n  if (PopupManager.modalStack.length > 0) {\n    const topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topPopup) return;\n    const instance = PopupManager.getInstance(topPopup.id);\n\n    return instance;\n  }\n};\n\nif (!Vue.prototype.$isServer) {\n  // handle `esc` key when the popup is shown\n  window.addEventListener('keydown', function(event) {\n    if (event.keyCode === 27) {\n      const topPopup = getTopPopup();\n\n      if (topPopup && topPopup.closeOnPressEscape) {\n        topPopup.handleClose\n          ? topPopup.handleClose()\n          : (topPopup.handleAction ? topPopup.handleAction('cancel') : topPopup.close());\n      }\n    }\n  });\n}\n\nexport default PopupManager;\n"]}]}