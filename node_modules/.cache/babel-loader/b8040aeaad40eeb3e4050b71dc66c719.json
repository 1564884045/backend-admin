{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js!G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\RQDL\\base\\backend-admin\\src\\views\\conf\\config.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\views\\conf\\config.vue","mtime":1621303824009},{"path":"G:\\RQDL\\base\\backend-admin\\babel.config.js","mtime":1620715077731},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7ClZ1ZS5maWx0ZXIoInJvbGVSZWJhdGVUZXh0IiwgZnVuY3Rpb24gKHZhbCkgewogIHZhciBfYXJyID0gSlNPTi5wYXJzZSh2YWwpOwoKICB2YXIgX3N0ciA9IFtdOwoKICBpZiAoQXJyYXkuaXNBcnJheShfYXJyKSkgewogICAgX2Fyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIF9zdHIucHVzaChpdGVtLmx2ICsgIue6p+aPkOaIkDogIiArIGl0ZW0ucmViYXRlKTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIF9zdHIuam9pbigi77ybIik7Cn0pOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNvbmZpZyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzVXNlOiB0cnVlLAogICAgICBpc1VzZVRleHQ6ICflt7LlkK/nlKgnLAogICAgICBjb25mOiB7CiAgICAgICAgZnJvbnRVcmw6ICcnLAogICAgICAgIGluZGV4UGFnZVR5cGU6ICcnLAogICAgICAgIHJlYWxOYW1lOiBmYWxzZSwKICAgICAgICBhdXRvVFg6IGZhbHNlLAogICAgICAgIHNob3BBcHBseTogZmFsc2UKICAgICAgfSwKICAgICAgdmlwOiB0aGlzLiRzdG9yZS5zdGF0ZS5zaG9wLnZpcAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGFwaS5nZXQoImNvbXBhbnkvY29uZiIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgIF90aGlzLmNvbmYgPSBKU09OLnBhcnNlKHJlcy5kYXRhLmNvbmZpZykgfHwge307CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2xlYXJBbGxDYWNoZTogZnVuY3Rpb24gY2xlYXJBbGxDYWNoZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+a4hemZpOe8k+WtmOS8muWvvOiHtOeUqOaIt+mcgOimgemHjeaWsOeZu+W9le+8jOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRhcGkucG9zdCgicmVtb3ZlQ2FjaGUiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uuc3VjY2Vzcygi5riF56m65oiQ5YqfISIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY29uZkNoYW5nZTogZnVuY3Rpb24gY29uZkNoYW5nZShlKSB7CiAgICAgIHZhciBwb3N0RGF0YSA9IHsKICAgICAgICBjb25maWc6IEpTT04uc3RyaW5naWZ5KHRoaXMuY29uZikKICAgICAgfTsKICAgICAgdGhpcy5zYXZlQ29uZihwb3N0RGF0YSk7CiAgICB9LAogICAgc2F2ZUNvbmY6IGZ1bmN0aW9uIHNhdmVDb25mKGNvbmYpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgbG9hZGluZyA9IHRoaXMuJGJhc2VMb2FkaW5nKCLkv53lrZjkuK0uLi4iLCAxKTsKICAgICAgdGhpcy4kYXBpLnBvc3QoImNvbXBhbnkvY29uZiIsIGNvbmYpLnRoZW4oZnVuY3Rpb24gKHJldCkgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICBpZiAocmV0LmNvZGUgPT09IDIwMCkgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MocmV0Lm1zZyk7ZWxzZSBfdGhpczMuJG1lc3NhZ2UuZXJyb3IocmV0Lm1zZyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["config.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"max-width: 1000px;margin: auto\">\r\n        <!--    客服配置    -->\r\n        <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\"><span>店铺系统配置</span>\r\n            </div>\r\n            <el-form ref=\"form\" :model=\"conf\" label-width=\"180px\">\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"clearAllCache\">清空系统缓存</el-button>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"前端页面链接\" prop=\"orderRebate\">\r\n                    <el-input v-model=\"conf.frontUrl\" placeholder=\"前端页面链接\">\r\n                        <template slot=\"append\">\r\n                            <div @click=\"confChange\">保存</div>\r\n                        </template>\r\n                    </el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"分类页展示类型\" prop=\"integral\">\r\n                    <div>\r\n                        <el-radio @change=\"confChange\" v-model=\"conf.indexPageType\" label=\"categoryWithProduct\">\r\n                            分类+产品模式\r\n                        </el-radio>\r\n                        <el-radio @change=\"confChange\" v-model=\"conf.indexPageType\" label=\"categoryWithChild\">\r\n                            上级分类+下级分类模式\r\n                        </el-radio>\r\n                    </div>\r\n                    <div style=\"font-size: 12px;padding: 0 10px\">分类+产品模式：将直接把分类与产品列出（默认模式）</div>\r\n                    <div style=\"font-size: 12px;padding: 0 10px\">上级分类+下级分类模式：查出上级分类与下级分类</div>\r\n                </el-form-item>\r\n                <el-form-item label=\"自动提现\" prop=\"integral\">\r\n                    <el-switch v-model=\"conf.autoTX\" @change=\"confChange\"/>\r\n                    <span style=\"font-size: 12px;padding: 0 10px\">开启自动提现后，有付款项时，平台将自动付款到微信用户</span>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"用户实名\" prop=\"integral\">\r\n                    <el-switch v-model=\"conf.realName\" @change=\"confChange\"/>\r\n                    <span style=\"font-size: 12px;padding: 0 10px\">开启用户实名后，用户消费只能在实名认证之后</span>\r\n                </el-form-item>\r\n                <!--        <el-form-item label=\"开放商户申请\" prop=\"integral\" v-if=\"vip['branchCompany']\">-->\r\n                <!--          <el-switch v-model=\"conf.shopApply\"/>-->\r\n                <!--          <span style=\"font-size: 12px;padding: 0 10px\">开启后将允许商户在应用端申请进驻</span>-->\r\n                <!--        </el-form-item>-->\r\n            </el-form>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Vue from 'vue';\r\n\r\n    Vue.filter(\"roleRebateText\", function (val) {\r\n        let _arr = JSON.parse(val);\r\n        let _str = [];\r\n        if (Array.isArray(_arr)) {\r\n            _arr.forEach((item) => {\r\n                _str.push(item.lv + \"级提成: \" + item.rebate)\r\n            })\r\n        }\r\n        return _str.join(\"；\")\r\n    });\r\n    export default {\r\n        name: \"config\",\r\n        data() {\r\n            return {\r\n                isUse: true,\r\n                isUseText: '已启用',\r\n                conf: {\r\n                    frontUrl: '',\r\n                    indexPageType: '',\r\n                    realName: false,\r\n                    autoTX: false,\r\n                    shopApply: false,\r\n                },\r\n                vip: this.$store.state.shop.vip\r\n            }\r\n        },\r\n        created() {\r\n            this.$api.get(\"company/conf\").then(res => {\r\n                if (res.code === 200) {\r\n                    this.conf = JSON.parse(res.data.config) || {};\r\n                }\r\n            });\r\n        },\r\n        methods: {\r\n            clearAllCache() {\r\n                let that = this;\r\n                this.$confirm('清除缓存会导致用户需要重新登录，是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.$api.post(\"removeCache\").then(res => {\r\n                        if (res.code === 200) {\r\n                            that.$message.success(\"清空成功!\")\r\n                        } else {\r\n                            that.$message.error(res.msg)\r\n                        }\r\n                    })\r\n                });\r\n            },\r\n            confChange(e) {\r\n                let postData = {\r\n                    config: JSON.stringify(this.conf)\r\n                };\r\n                this.saveConf(postData)\r\n            },\r\n            saveConf(conf) {\r\n                let loading = this.$baseLoading(\"保存中...\",1);\r\n\r\n                this.$api.post(\"company/conf\", conf).then(ret => {\r\n                    loading.close();\r\n\r\n                    if (ret.code === 200)\r\n                        this.$message.success(ret.msg);\r\n                    else\r\n                        this.$message.error(ret.msg);\r\n                }).catch(err=>{\r\n                    loading.close();\r\n                })\r\n            },\r\n\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-card {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .el-input {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .el-button {\r\n        float: right;\r\n        margin: 0 10% 10px;\r\n    }\r\n\r\n    >>> .el-card__body {\r\n        padding: 20px 100px 20px 60px;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views/conf"}]}