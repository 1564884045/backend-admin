{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\RQDL\\base\\backend-admin\\src\\views\\ui\\home\\recommend.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\views\\ui\\home\\recommend.vue","mtime":1620715077881},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IHRvVHlwZUFyciA9IHsKICAgIHByb2R1Y3Q6ICLkuqflk4Hor6bmg4UiLAogICAgcHJvZHVjdENhdGVnb3J5OiAi5Lqn5ZOB5YiG57G7IiwKICAgIHRhc2s6ICLmtLvliqjor6bmg4UiLAogICAgdXJsOiAn5aSW6ZO+JywKICAgIGFydGljbGU6ICfmlofnq6AnLAogICAgbm90aWNlOiAn5YWs5ZGKJywKfTsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogInJlY29tbWVuZCIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3dBcnI6IFsKICAgICAgICAgICAgICAgIHt2YWx1ZTogMSwgbGFiZWw6ICfmmL7npLonfSwKICAgICAgICAgICAgICAgIHt2YWx1ZTogMCwgbGFiZWw6ICfkuI3mmL7npLonfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgLy8g6aG16Z2i5pi+56S65pWw5o2uCiAgICAgICAgICAgIHNob3dBZGRCb3g6IGZhbHNlLAogICAgICAgICAgICBiYXNlVXJsOiB0aGlzLiRhcGkuYmFzZVVybCwKICAgICAgICAgICAgdG1wUm93OiB7CiAgICAgICAgICAgICAgICB0YXJnZXQ6ICcnLAogICAgICAgICAgICAgICAgdG9UeXBlOiAnJywKICAgICAgICAgICAgICAgIGNvdmVyOiAnJywKICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZWRpdFRpdGxlOiAiIiwKICAgICAgICAgICAgc3VibWl0VGV4dDogIiIsCgogICAgICAgICAgICBhZENvbHM6IFsKICAgICAgICAgICAgICAgIHtwcm9wOiAndGl0bGUnLCBsYWJlbDogJ+agh+mimCcsIHNvcnRhYmxlOiBmYWxzZSwgZml4ZWQ6IGZhbHNlfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwcm9wOiAndG9UeXBlJywgbGFiZWw6ICfot7PovaznsbvlnosnLCBzb3J0YWJsZTogZmFsc2UsIGZpeGVkOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwaXBlOiBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gdG9UeXBlQXJyW3Jlc107CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0KSByZXR1cm4gdGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCgogICAgICAgICAgICBkYXRhTGlzdDogW10sCgogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgdGl0bGU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmoIfpopgnLCB0cmlnZ2VyOiAnYmx1cid9XSwKICAgICAgICAgICAgICAgIHRvVHlwZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeaJk+W8gOaWueW8jycsIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICAgICAgICAgICAgdGFyZ2V0OiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oupJywgdHJpZ2dlcjogJ2JsdXInfV0sCiAgICAgICAgICAgICAgICBjb3ZlcjogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeS4iuS8oOWwgemdoicsIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG9wSW5mbzoge30KICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLnNob3BJbmZvID0gdGhpcy4kc3RvcmUuc3RhdGUuc2hvcDsKICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0RGF0YSgpIHsKICAgICAgICAgICAgdGhpcy4kYXBpLmdldCgiY29tcGFueS9ob21lL2xpc3QiLCB7cG9zaXRpb246ICdyZWNvbW1lbmQnfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDnirbmgIHkv67mlLkKICAgICAgICAgKi8KICAgICAgICBhc3luYyBzdGF0dXNDaGFuZ2UoZSwgcm93KSB7CiAgICAgICAgICAgIGxldCBwb3N0RGF0YSA9IHsKICAgICAgICAgICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgICAgICAgICBzdGF0dXM6IGUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5zYXZlRGF0YShwb3N0RGF0YSwgIuS/ruaUuSIpCiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDkv53lrZjmiJbogIXmm7TmlrAKICAgICAgICAgKi8KICAgICAgICBhc3luYyBzYXZlVXBkYXRlKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRtcFJvdyk7CiAgICAgICAgICAgIGxldCBfdGlwOwogICAgICAgICAgICBsZXQgX3Bvc3REYXRhID0gdGhpcy50bXBSb3c7CiAgICAgICAgICAgIGlmICh0aGlzLnRtcFJvdy5pZCkgX3RpcCA9ICfkv67mlLknOwogICAgICAgICAgICBlbHNlIF90aXAgPSAn5paw5aKeJzsKICAgICAgICAgICAgX3Bvc3REYXRhLnBvc2l0aW9uID0gJ3JlY29tbWVuZCc7CiAgICAgICAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZURhdGEoX3Bvc3REYXRhLCBfdGlwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOS/neWtmOWKqOS9nAogICAgICAgICAqIEBwYXJhbSBwb3N0RGF0YQogICAgICAgICAqIEBwYXJhbSB0aXAKICAgICAgICAgKi8KICAgICAgICBzYXZlRGF0YShwb3N0RGF0YSwgdGlwKSB7CiAgICAgICAgICAgIHRoaXMuJGFwaS5wb3N0KCdjb21wYW55L2hvbWUnLCBwb3N0RGF0YSkudGhlbihfcG9zdCA9PiB7CiAgICAgICAgICAgICAgICBpZiAoX3Bvc3QuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93QWRkQm94ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHRpcCArICfmiJDlip8nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGEoKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKF9wb3N0Lm1zZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLnvZHnu5zor7fmsYLlpLHotKUiKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHJlZnJlc2hUbXBSb3coZSkgewogICAgICAgICAgICB0aGlzLnRtcFJvdy50YXJnZXQgPSAnJwogICAgICAgIH0sCiAgICAgICAgc2hvd0VBQm94KHJvdyA9IG51bGwsIHBvc2l0aW9uKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICAgICAgICAgIGlmIChyb3cpIHsKICAgICAgICAgICAgICAgIHRoaXMudG1wUm93ID0gcm93OwogICAgICAgICAgICAgICAgdGhpcy5lZGl0VGl0bGUgPSAn57yW6L6R5L+h5oGvJzsKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0VGV4dCA9ICfnoa7orqTkv67mlLknOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy50bXBSb3cgPSB7CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnJywKICAgICAgICAgICAgICAgICAgICB0b1R5cGU6ICcnLAogICAgICAgICAgICAgICAgICAgIGNvdmVyOiAnJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdFRpdGxlID0gJ+aWsOWinic7CiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdFRleHQgPSAn5o+Q5LqkJzsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNob3dBZGRCb3ggPSB0cnVlOwogICAgICAgIH0sCgogICAgICAgIGRlbChyb3cpIHsKICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5p2h6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kYXBpLmRlbCgnY29tcGFueS9ob21lLycgKyByb3cuaWQpLnRoZW4oX2RlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF9kZWwuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGEoKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTliKDpmaTlpLHotKUnCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOWIoOmZpOWksei0pScKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICB9Cgp9Cg=="},{"version":3,"sources":["recommend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA","file":"recommend.vue","sourceRoot":"src/views/ui/home","sourcesContent":["<template>\r\n    <div style=\"max-width: 1000px;margin: auto\">\r\n        <!--    客服配置    -->\r\n        <table-builder :cols=\"adCols\" :table-data=\"dataList\" :show-pagination=\"false\">\r\n            <template slot=\"tableHeader\">\r\n                <el-button type=\"primary\" size=\"mini\" plain style=\"margin: 10px\" @click=\"showEABox(null,'recommend')\">\r\n                    添加推荐\r\n                </el-button>\r\n            </template>\r\n            <el-table-column label=\"显示\">\r\n                <template slot-scope=\"{row}\">\r\n                    <el-select v-model=\"row.status\" placeholder=\"请选择\" @change=\"statusChange($event,row)\">\r\n                        <el-option\r\n                                v-for=\"item in showArr\"\r\n                                :key=\"item.value\"\r\n                                :label=\"item.label\"\r\n                                :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\">\r\n                <template slot-scope=\"{row}\">\r\n                    <el-button type=\"primary\" plain size=\"mini\" @click=\"showEABox(row)\">修改</el-button>\r\n                    <el-button type=\"danger\" plain size=\"mini\" @click=\"del(row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </table-builder>\r\n\r\n        <!--  弹窗 //新增 编辑 -->\r\n\r\n        <!--  弹窗 //新增 编辑 -->\r\n        <el-dialog :visible.sync=\"showAddBox\" :title=\"editTitle\" :close-on-click-modal=\"false\">\r\n            <el-form v-if=\"showAddBox\" ref=\"form\" :rules=\"rules\" :model=\"tmpRow\" label-width=\"150px\">\r\n                <el-form-item label=\"跳转方式\" prop=\"toType\">\r\n                    <el-radio-group v-model=\"tmpRow.toType\" @change=\"refreshTmpRow\">\r\n                        <el-radio label=\"product\">产品</el-radio>\r\n                        <el-radio label=\"productCategory\">产品分类</el-radio>\r\n                        <el-radio label=\"task\">活动</el-radio>\r\n                        <el-radio label=\"url\" disabled>外链</el-radio>\r\n                        <el-radio label=\"article\" disabled>文章</el-radio>\r\n                        <el-radio label=\"notice\" disabled>公告</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"跳转商品\" prop=\"target\" v-show=\"tmpRow.toType === 'product'\">\r\n                    <remote-select api=\"product/list\" show-label=\"title\" v-model=\"tmpRow\" field=\"target\"\r\n                                   :bind-fields=\"['cover','title']\"\r\n                                   v-if=\"tmpRow.toType === 'product'\"/>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"跳转活动\" prop=\"target\" v-show=\"tmpRow.toType === 'task'\">\r\n                    <remote-select api=\"task/list\" show-label=\"title\" field=\"target\" v-model=\"tmpRow\"\r\n                                   :bind-fields=\"['cover','title']\"\r\n                                   v-if=\"tmpRow.toType === 'task'\"/>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"标题\" prop=\"title\">\r\n                    <el-input v-model=\"tmpRow.title\"/>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"封面\" prop=\"cover\" v-show=\"tmpRow.toType && tmpRow.toType !== ''\">\r\n                    <image-upload v-model=\"tmpRow\" :action=\"baseUrl + '/upload/'+ shopInfo.id +'/home'\"\r\n                                    field=\"cover\"/>\r\n                </el-form-item>\r\n\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"saveUpdate\">{{ submitText }}</el-button>\r\n                    <el-button @click=\"showAddBox = false\">取消</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    const toTypeArr = {\r\n        product: \"产品详情\",\r\n        productCategory: \"产品分类\",\r\n        task: \"活动详情\",\r\n        url: '外链',\r\n        article: '文章',\r\n        notice: '公告',\r\n    };\r\n    export default {\r\n        name: \"recommend\",\r\n        data() {\r\n            return {\r\n                showArr: [\r\n                    {value: 1, label: '显示'},\r\n                    {value: 0, label: '不显示'},\r\n                ],\r\n                // 页面显示数据\r\n                showAddBox: false,\r\n                baseUrl: this.$api.baseUrl,\r\n                tmpRow: {\r\n                    target: '',\r\n                    toType: '',\r\n                    cover: '',\r\n                    title: '',\r\n                    position: '',\r\n                },\r\n                editTitle: \"\",\r\n                submitText: \"\",\r\n\r\n                adCols: [\r\n                    {prop: 'title', label: '标题', sortable: false, fixed: false},\r\n                    {\r\n                        prop: 'toType', label: '跳转类型', sortable: false, fixed: false,\r\n                        pipe: function (res) {\r\n                            let text = toTypeArr[res];\r\n                            if (text) return text;\r\n                            return \"\";\r\n                        }\r\n                    },\r\n                ],\r\n\r\n                dataList: [],\r\n\r\n                rules: {\r\n                    title: [{required: true, message: '请输入标题', trigger: 'blur'}],\r\n                    toType: [{required: true, message: '请选择打开方式', trigger: 'blur'}],\r\n                    target: [{required: true, message: '请选择', trigger: 'blur'}],\r\n                    cover: [{required: true, message: '请选择上传封面', trigger: 'blur'}],\r\n                },\r\n                shopInfo: {}\r\n            }\r\n        },\r\n        created() {\r\n            this.shopInfo = this.$store.state.shop;\r\n            this.getData();\r\n        },\r\n        methods: {\r\n            getData() {\r\n                this.$api.get(\"company/home/list\", {position: 'recommend'}).then(res => {\r\n                    if (res.code === 200) {\r\n                        this.dataList = res.data.list;\r\n                    }\r\n                })\r\n            },\r\n\r\n            /**\r\n             * 状态修改\r\n             */\r\n            async statusChange(e, row) {\r\n                let postData = {\r\n                    id: row.id,\r\n                    status: e\r\n                };\r\n                this.saveData(postData, \"修改\")\r\n            },\r\n            /**\r\n             * 保存或者更新\r\n             */\r\n            async saveUpdate() {\r\n                console.log(this.tmpRow);\r\n                let _tip;\r\n                let _postData = this.tmpRow;\r\n                if (this.tmpRow.id) _tip = '修改';\r\n                else _tip = '新增';\r\n                _postData.position = 'recommend';\r\n                this.$refs['form'].validate((valid) => {\r\n                    if (valid) {\r\n                        this.saveData(_postData, _tip);\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            /**\r\n             * 保存动作\r\n             * @param postData\r\n             * @param tip\r\n             */\r\n            saveData(postData, tip) {\r\n                this.$api.post('company/home', postData).then(_post => {\r\n                    if (_post.code === 200) {\r\n                        this.showAddBox = false;\r\n                        this.$message.success(tip + '成功');\r\n                        this.getData()\r\n                    } else {\r\n                        this.$message.error(_post.msg);\r\n                    }\r\n                }).catch(err => {\r\n                    this.$message.error(\"网络请求失败\");\r\n                })\r\n            },\r\n            refreshTmpRow(e) {\r\n                this.tmpRow.target = ''\r\n            },\r\n            showEABox(row = null, position) {\r\n                console.log(row);\r\n                if (row) {\r\n                    this.tmpRow = row;\r\n                    this.editTitle = '编辑信息';\r\n                    this.submitText = '确认修改';\r\n                } else {\r\n                    this.tmpRow = {\r\n                        target: '',\r\n                        toType: '',\r\n                        cover: '',\r\n                        title: '',\r\n                        position: position,\r\n                    };\r\n                    this.editTitle = '新增';\r\n                    this.submitText = '提交';\r\n                }\r\n                this.showAddBox = true;\r\n            },\r\n\r\n            del(row) {\r\n                this.$confirm('此操作将永久删除该条记录, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.$api.del('company/home/' + row.id).then(_del => {\r\n                        if (_del.code === 200) {\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: '删除成功!'\r\n                            });\r\n                            this.getData()\r\n                        } else {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                message: '删除删除失败'\r\n                            })\r\n                        }\r\n                    }).catch(err => {\r\n                        this.$message({\r\n                            type: 'error',\r\n                            message: '删除删除失败'\r\n                        })\r\n                    })\r\n\r\n                }).catch(() => {\r\n\r\n                })\r\n            },\r\n\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-card {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .el-input {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .el-button {\r\n        float: right;\r\n        margin: 0 10% 10px;\r\n    }\r\n\r\n    >>> .el-card__body {\r\n        padding: 20px 100px 20px 60px;\r\n    }\r\n</style>\r\n"]}]}