{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\RQDL\\base\\backend-admin\\src\\views\\user\\components\\scrollLoader.vue?vue&type=style&index=0&id=715a7822&scoped=true&lang=css&","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\views\\user\\components\\scrollLoader.vue","mtime":1620715077891},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCi5jb250YWluZXItbWFpbiB7bWFyZ2luOiAwIGF1dG87IG92ZXJmbG93OiBhdXRvOyBvdmVyZmxvdy14OiBoaWRkZW47IHBhZGRpbmc6IDA7fQoubG9hZGluZ3sgd2lkdGg6IDEwMCU7IGhlaWdodDogNDBweDsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogNXB4IDAgOyBjb2xvcjogIzk5OTsgZm9udC1zaXplOiAxM3B4O30KLmxvYWRpbmctaWNvbntjb2xvcjogIzcwNzA3MDt9Ci5sb2FkZXIgewogICAgIGZvbnQtc2l6ZTogMTBweDsKICAgICBtYXJnaW46IDhweCBhdXRvOwogICAgIHRleHQtaW5kZW50OiAtOTk5OWVtOwogICAgIHdpZHRoOiAyNHB4OwogICAgIGhlaWdodDogMjRweDsKICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgYmFja2dyb3VuZDogIzk5OTsKICAgICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudChsZWZ0LCAjOTk5IDEwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwKSA0MiUpOwogICAgIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsICM5OTkgMTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDApIDQyJSk7CiAgICAgYmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KGxlZnQsICM5OTkgMTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDApIDQyJSk7CiAgICAgYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudChsZWZ0LCAjOTk5IDEwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwKSA0MiUpOwogICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzk5OSAxMCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMCkgNDIlKTsKICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgLXdlYmtpdC1hbmltYXRpb246IGxvYWQzIDFzIGluZmluaXRlIGxpbmVhcjsKICAgICBhbmltYXRpb246IGxvYWQzIDFzIGluZmluaXRlIGxpbmVhcjsKIH0KIC5sb2FkZXI6YmVmb3JlIHsKICAgICB3aWR0aDogNTAlOwogICAgIGhlaWdodDogNTAlOwogICAgIGJhY2tncm91bmQ6ICM5OTk7CiAgICAgYm9yZGVyLXJhZGl1czogMTAwJSAwIDAgMDsKICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgdG9wOiAwOwogICAgIGxlZnQ6IDA7CiAgICAgY29udGVudDogJyc7CiB9CiAubG9hZGVyOmFmdGVyIHsKICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1OwogICAgIHdpZHRoOiA3MiU7CiAgICAgaGVpZ2h0OiA3NSU7CiAgICAgYm9yZGVyLXJhZGl1czogNjglOwogICAgIGNvbnRlbnQ6ICcnOwogICAgIG1hcmdpbjogYXV0bzsKICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgdG9wOiAwOwogICAgIGxlZnQ6IDA7CiAgICAgYm90dG9tOiAwOwogICAgIHJpZ2h0OiAwOwogfQogQC13ZWJraXQta2V5ZnJhbWVzIGxvYWQzIHsKIDAlIHsKICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogfQogMTAwJSB7CiAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7CiB9CiB9CiBAa2V5ZnJhbWVzIGxvYWQzIHsKIDAlIHsKICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogfQogMTAwJSB7CiAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7CiB9CiB9Cgo="},{"version":3,"sources":["scrollLoader.vue"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scrollLoader.vue","sourceRoot":"src/views/user/components","sourcesContent":["// scrollLoader.vue\r\n// 滚动加载组件\r\n\r\n<style scoped>\r\n   .container-main {margin: 0 auto; overflow: auto; overflow-x: hidden; padding: 0;}\r\n   .loading{ width: 100%; height: 40px; position: relative; overflow: hidden; text-align: center; margin: 5px 0 ; color: #999; font-size: 13px;}\r\n   .loading-icon{color: #707070;}\r\n   .loader {\r\n        font-size: 10px;\r\n        margin: 8px auto;\r\n        text-indent: -9999em;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        background: #999;\r\n        background: -moz-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -webkit-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -o-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -ms-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: linear-gradient(to right, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        position: relative;\r\n        -webkit-animation: load3 1s infinite linear;\r\n        animation: load3 1s infinite linear;\r\n    }\r\n    .loader:before {\r\n        width: 50%;\r\n        height: 50%;\r\n        background: #999;\r\n        border-radius: 100% 0 0 0;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        content: '';\r\n    }\r\n    .loader:after {\r\n        background: #f5f5f5;\r\n        width: 72%;\r\n        height: 75%;\r\n        border-radius: 68%;\r\n        content: '';\r\n        margin: auto;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        bottom: 0;\r\n        right: 0;\r\n    }\r\n    @-webkit-keyframes load3 {\r\n    0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n    }\r\n    }\r\n    @keyframes load3 {\r\n    0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n    }\r\n    }\r\n\r\n</style>\r\n\r\n<template>\r\n    <div id=\"scrollLoader-container\" class=\"container-main\">\r\n        <div class=\"loading\" v-if=\"topLoading\">\r\n            <div class=\"loader\">加载中...</div>\r\n        </div>\r\n\r\n        <div :style=\"'min-height:' + realMinHeight + 'px; overflow-x:hidden'\">\r\n            <slot></slot>\r\n        </div>\r\n\r\n        <div class=\"loading\" v-if=\"bottonLoading\">\r\n            <div class=\"loader\">加载中...</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"scroll-loader\",\r\n\r\n        props: {\r\n            //给slot传一个最小值，保证一开始能出现滚动条\r\n            'minHeight': {\r\n                type: Number,\r\n                default: 800\r\n            },\r\n\r\n        },\r\n\r\n        created(){\r\n        },\r\n        computed: {\r\n            realMinHeight(){\r\n                return this.minHeight + 30\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n               topLoading: false,\r\n               bottonLoading: false,\r\n\r\n               stopTopLoading: false, //是否停止传播滚动到顶部事件\r\n               stopBottonLoading: false,  //是否停止传播滚动到底部事件\r\n            }\r\n        },\r\n        mounted(){\r\n            this.listenScroll();\r\n        },\r\n\r\n        methods: {\r\n            listenScroll(){\r\n                var me = this;\r\n                var topDone = (stopTopLoading) => {\r\n                    me.topLoading = false;\r\n                    if(stopTopLoading) me.stopTopLoading = true;\r\n                };\r\n\r\n                var bottonDone = (stopBottonLoading) => {\r\n                    me.bottonLoading = false;\r\n                    if(stopBottonLoading) me.stopBottonLoading = true;\r\n                };\r\n                setTimeout(function(){\r\n                    var scrollContainer = document.getElementById('scrollLoader-container');\r\n\r\n                    scrollContainer.onscroll = function(){\r\n\r\n                        if(scrollContainer.scrollTop<=0 && !me.stopTopLoading){\r\n                            if(me.topLoading) return;\r\n\r\n                            me.topLoading = true;\r\n                            me.$emit('scroll-to-top', topDone);\r\n                        }\r\n                        if((scrollContainer.offsetHeight + scrollContainer.scrollTop+1 >= scrollContainer.scrollHeight) && !me.stopBottonLoading){\r\n                            if(me.bottonLoading) return;\r\n\r\n                            me.bottonLoading = true;\r\n                            scrollContainer.scrollTop += 40;\r\n                            me.$emit('scroll-to-botton', bottonDone);\r\n                        }\r\n                    }\r\n                }, 50)\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n"]}]}