{"remainingRequest":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\RQDL\\base\\backend-admin\\src\\layout\\components\\Search\\index.vue?vue&type=style&index=0&id=8cef2250&lang=scss&scoped=true&","dependencies":[{"path":"G:\\RQDL\\base\\backend-admin\\src\\layout\\components\\Search\\index.vue","mtime":1620715077806},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\sass-resources-loader\\lib\\loader.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\RQDL\\base\\backend-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KI3NlYXJjaCB7DQogICAgcG9zaXRpb246IGZpeGVkOw0KICAgIHotaW5kZXg6IDIwMDA7DQogICAgdG9wOiAwOw0KICAgIGxlZnQ6IDA7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoJGNvbG9yOiAjMDAwLCAkYWxwaGE6IDAuNSk7DQogICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOw0KICAgIHRyYW5zaXRpb246IGFsbCAwLjJzOw0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTsNCiAgICBvcGFjaXR5OiAwOw0KICAgIHZpc2liaWxpdHk6IGhpZGRlbjsNCiAgICAmLnNlYXJjaGluZyB7DQogICAgICAgIG9wYWNpdHk6IDE7DQogICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7DQogICAgICAgIC5jb250YWluZXIgew0KICAgICAgICAgICAgdHJhbnNmb3JtOiBpbml0aWFsOw0KICAgICAgICAgICAgZmlsdGVyOiBpbml0aWFsOw0KICAgICAgICB9DQogICAgfQ0KICAgIC5jb250YWluZXIgew0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICBtYXgtd2lkdGg6IDgwMHB4Ow0KICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4yczsNCiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOw0KICAgICAgICBmaWx0ZXI6IGJsdXIoMTBweCk7DQogICAgICAgIC5zZWFyY2gtYm94IHsNCiAgICAgICAgICAgIG1hcmdpbjogNTBweCAyMHB4IDA7DQogICAgICAgICAgICA6OnYtZGVlcCAuZWwtaW5wdXRfX2lubmVyIHsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDUycHg7DQogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDUycHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAudGlwcyB7DQogICAgICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDAgNDBweDsNCiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjRweDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgICAgIHNwYW4gew0KICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgNXB4Ow0KICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxcHggNXB4IDJweDsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgkY29sb3I6ICMwMDAsICRhbHBoYTogMC41KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLnJlc3VsdCB7DQogICAgICAgICAgICBtYXJnaW46IDAgMjBweDsNCiAgICAgICAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtIDI1MHB4KTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgICAgICAgICAgIC5pdGVtIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgICAgICAmOmhvdmVyIHsNCiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7DQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY3ZmE7DQogICAgICAgICAgICAgICAgICAgIC5pY29uIC5zdmctaWNvbiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzQwOWVmZjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAuaW5mbyB7DQogICAgICAgICAgICAgICAgICAgICAgICAudGl0bGUgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMzMzOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmJyZWFkY3J1bWIsDQogICAgICAgICAgICAgICAgICAgICAgICAucGF0aCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2MDYyNjY7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLmljb24gew0KICAgICAgICAgICAgICAgICAgICBmbGV4OiAwIDAgNjZweDsNCiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgICAgICAgICAuc3ZnLWljb24gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5OTk7DQogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7DQogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAuaW5mbyB7DQogICAgICAgICAgICAgICAgICAgIGZsZXg6IDE7DQogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNzBweDsNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7DQogICAgICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2ViZWVmNTsNCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNXB4IDEwcHggN3B4Ow0KICAgICAgICAgICAgICAgICAgICBAaW5jbHVkZSB0ZXh0LW92ZXJmbG93KDEsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAudGl0bGUgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzY2NjsNCiAgICAgICAgICAgICAgICAgICAgICAgIEBpbmNsdWRlIHRleHQtb3ZlcmZsb3coMSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAuc3ZnLWljb24gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAuYnJlYWRjcnVtYiwNCiAgICAgICAgICAgICAgICAgICAgLnBhdGggew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNjMGM0Y2M7DQogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsNCiAgICAgICAgICAgICAgICAgICAgICAgIEBpbmNsdWRlIHRleHQtb3ZlcmZsb3coMSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLmJyZWFkY3J1bWIgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3BhbjpsYXN0LWNoaWxkIGkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/components/Search","sourcesContent":["<template>\r\n    <div id=\"search\" :class=\"{'searching': isShow}\" @click=\"isShow && $eventBus.$emit('global-search-toggle')\">\r\n        <div class=\"container\">\r\n            <div class=\"search-box\" @click.stop>\r\n                <el-input ref=\"input\" v-model=\"search\" prefix-icon=\"el-icon-search\" placeholder=\"搜索页面\" clearable @keydown.esc.native=\"$eventBus.$emit('global-search-toggle')\" />\r\n                <div class=\"tips\">您可以使用快捷键<span>alt</span>+<span>F</span>唤醒搜索面板，按<span>esc</span>退出</div>\r\n            </div>\r\n            <div ref=\"search\" class=\"result\">\r\n                <router-link v-for=\"item in resultList\" :key=\"item.path\" v-slot=\"{ href, navigate }\" custom :to=\"isShow ? item.path : ''\">\r\n                    <a :href=\"isExternal(item.path) ? item.path : href\" class=\"item\" :target=\"isExternal(item.path) ? '_blank' : '_self'\" @click=\"navigate\">\r\n                        <div class=\"icon\">\r\n                            <svg-icon v-if=\"item.icon\" :name=\"item.icon\" />\r\n                        </div>\r\n                        <div class=\"info\">\r\n                            <div class=\"title\">\r\n                                {{ item.title }}\r\n                                <svg-icon v-if=\"item.isExternal\" name=\"external-link\" />\r\n                            </div>\r\n                            <div class=\"breadcrumb\">\r\n                                <span v-for=\"(bc, index) in item.breadcrumb\" :key=\"index\">\r\n                                    {{ bc }}\r\n                                    <i class=\"el-icon-arrow-right\" />\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"path\">{{ item.path }}</div>\r\n                        </div>\r\n                    </a>\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { deepClone } from '@/util'\r\n\r\nexport default {\r\n    name: 'Search',\r\n    props: {},\r\n    data() {\r\n        return {\r\n            isShow: false,\r\n            search: '',\r\n            sourceList: []\r\n        }\r\n    },\r\n    computed: {\r\n        resultList() {\r\n            let result = []\r\n            result = this.sourceList.filter(item => {\r\n                let flag = false\r\n                if (item.title.indexOf(this.search) >= 0) {\r\n                    flag = true\r\n                }\r\n                if (item.path.indexOf(this.search) >= 0) {\r\n                    flag = true\r\n                }\r\n                if (item.breadcrumb.some(b => b.indexOf(this.search) >= 0)) {\r\n                    flag = true\r\n                }\r\n                return flag\r\n            })\r\n            return result\r\n        }\r\n    },\r\n    watch: {\r\n        isShow(val) {\r\n            if (val) {\r\n                document.querySelector('body').classList.add('hidden')\r\n                this.$refs.search.scrollTop = 0\r\n                setTimeout(() => {\r\n                    this.$refs.input.$el.children[0].focus()\r\n                }, 100)\r\n            } else {\r\n                document.querySelector('body').classList.remove('hidden')\r\n                setTimeout(() => {\r\n                    this.search = ''\r\n                }, 500)\r\n            }\r\n        }\r\n    },\r\n    created() {},\r\n    mounted() {\r\n        this.$eventBus.$on('global-search-toggle', () => {\r\n            this.isShow = !this.isShow\r\n        })\r\n        this.$store.state.menu.routes.map(item => {\r\n            this.getSourceList(item.children)\r\n        })\r\n    },\r\n    methods: {\r\n        isExternal(path) {\r\n            return /^(https?:|mailto:|tel:)/.test(path)\r\n        },\r\n        hasChildren(item) {\r\n            let flag = true\r\n            if (item.children) {\r\n                if (item.children.every(i => i.meta.sidebar === false)) {\r\n                    flag = false\r\n                }\r\n            } else {\r\n                flag = false\r\n            }\r\n            return flag\r\n        },\r\n        getSourceList(arr) {\r\n            arr.map(item => {\r\n                if (item.meta.sidebar !== false) {\r\n                    if (this.hasChildren(item)) {\r\n                        let baseBreadcrumb = item.meta.baseBreadcrumb ? deepClone(item.meta.baseBreadcrumb) : []\r\n                        baseBreadcrumb.push(item.meta.title)\r\n                        let child = deepClone(item.children)\r\n                        child.map(c => {\r\n                            c.meta.baseIcon = item.meta.icon || item.meta.baseIcon\r\n                            c.meta.baseBreadcrumb = baseBreadcrumb\r\n                            c.meta.basePath = item.meta.basePath ? [item.meta.basePath, item.path].join('/') : item.path\r\n                        })\r\n                        this.getSourceList(child)\r\n                    } else {\r\n                        let breadcrumb = []\r\n                        if (item.meta.baseBreadcrumb) {\r\n                            breadcrumb = deepClone(item.meta.baseBreadcrumb)\r\n                        }\r\n                        breadcrumb.push(item.meta.title)\r\n                        let path = ''\r\n                        if (this.isExternal(item.path)) {\r\n                            path = item.path\r\n                        } else {\r\n                            path = item.meta.basePath ? [item.meta.basePath, item.path].join('/') : item.path\r\n                        }\r\n                        this.sourceList.push({\r\n                            icon: item.meta.icon || item.meta.baseIcon,\r\n                            title: item.meta.title,\r\n                            breadcrumb: breadcrumb,\r\n                            path: path,\r\n                            isExternal: this.isExternal(item.path)\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#search {\r\n    position: fixed;\r\n    z-index: 2000;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba($color: #000, $alpha: 0.5);\r\n    backdrop-filter: blur(10px);\r\n    transition: all 0.2s;\r\n    transform: translateZ(0);\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    &.searching {\r\n        opacity: 1;\r\n        visibility: visible;\r\n        .container {\r\n            transform: initial;\r\n            filter: initial;\r\n        }\r\n    }\r\n    .container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        max-width: 800px;\r\n        height: 100%;\r\n        margin: 0 auto;\r\n        transition: all 0.2s;\r\n        transform: scale(1.1);\r\n        filter: blur(10px);\r\n        .search-box {\r\n            margin: 50px 20px 0;\r\n            ::v-deep .el-input__inner {\r\n                height: 52px;\r\n                line-height: 52px;\r\n            }\r\n            .tips {\r\n                margin: 20px 0 40px;\r\n                line-height: 24px;\r\n                font-size: 14px;\r\n                text-align: center;\r\n                color: #fff;\r\n                span {\r\n                    margin: 0 5px;\r\n                    padding: 1px 5px 2px;\r\n                    border-radius: 5px;\r\n                    font-weight: bold;\r\n                    background-color: rgba($color: #000, $alpha: 0.5);\r\n                }\r\n            }\r\n        }\r\n        .result {\r\n            margin: 0 20px;\r\n            max-height: calc(100% - 250px);\r\n            border-radius: 5px;\r\n            overflow: auto;\r\n            background-color: #fff;\r\n            .item {\r\n                display: flex;\r\n                align-items: center;\r\n                text-decoration: none;\r\n                cursor: pointer;\r\n                &:hover {\r\n                    transition: all 0.3s;\r\n                    background-color: #f5f7fa;\r\n                    .icon .svg-icon {\r\n                        color: #409eff;\r\n                        transform: scale(1.2);\r\n                    }\r\n                    .info {\r\n                        .title {\r\n                            color: #333;\r\n                        }\r\n                        .breadcrumb,\r\n                        .path {\r\n                            color: #606266;\r\n                        }\r\n                    }\r\n                }\r\n                .icon {\r\n                    flex: 0 0 66px;\r\n                    text-align: center;\r\n                    .svg-icon {\r\n                        color: #999;\r\n                        font-size: 20px;\r\n                        transition: all 0.3s;\r\n                    }\r\n                }\r\n                .info {\r\n                    flex: 1;\r\n                    height: 70px;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    justify-content: space-around;\r\n                    border-left: 1px solid #ebeef5;\r\n                    padding: 5px 10px 7px;\r\n                    @include text-overflow(1, true);\r\n                    .title {\r\n                        font-size: 18px;\r\n                        font-weight: bold;\r\n                        color: #666;\r\n                        @include text-overflow(1, true);\r\n                        .svg-icon {\r\n                            font-size: 14px;\r\n                        }\r\n                    }\r\n                    .breadcrumb,\r\n                    .path {\r\n                        font-size: 12px;\r\n                        color: #c0c4cc;\r\n                        transition: all 0.3s;\r\n                        @include text-overflow(1, true);\r\n                    }\r\n                    .breadcrumb {\r\n                        span:last-child i {\r\n                            display: none;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]}]}